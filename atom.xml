<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>太阳落下</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-05-05T03:11:59.409Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>木鱼</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Linux 专题导航</title>
    <link href="http://yoursite.com/2018/06/05/Linux-%E4%B8%93%E9%A2%98%E5%AF%BC%E8%88%AA/"/>
    <id>http://yoursite.com/2018/06/05/Linux-专题导航/</id>
    <published>2018-06-05T03:09:32.000Z</published>
    <updated>2018-05-05T03:11:59.409Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h2><h2 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h2><h2 id="软件管理"><a href="#软件管理" class="headerlink" title="软件管理"></a>软件管理</h2><h2 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h2><h2 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h2><h2 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文件管理&quot;&gt;&lt;a href=&quot;#文件管理&quot; class=&quot;headerlink&quot; title=&quot;文件管理&quot;&gt;&lt;/a&gt;文件管理&lt;/h2&gt;&lt;h2 id=&quot;权限管理&quot;&gt;&lt;a href=&quot;#权限管理&quot; class=&quot;headerlink&quot; title=&quot;权限管理&quot;&gt;&lt;/a
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 swap分区</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-swap%E5%88%86%E5%8C%BA/"/>
    <id>http://yoursite.com/2018/05/06/Linux磁盘管理-swap分区/</id>
    <published>2018-05-06T07:59:06.000Z</published>
    <updated>2018-05-06T08:18:27.167Z</updated>
    
    <content type="html"><![CDATA[<p>为磁盘添加SWAP交换分区</p>
<p>1.首先建立一个普通的Linux分区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fdisk /dev/sdb</div><div class="line">#参考MBR分区</div><div class="line">#输入p查看sdb的分区</div></pre></td></tr></table></figure></p>
<p>2.修改分区类型的16进制编码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">输入t，输入要修改的磁盘编号 这里是 6（sdb6的6）；</div><div class="line">输入 L 来查看可以修改成的类型</div><div class="line">再输入82（Linux swap）,保存成功</div><div class="line">输入p来查看已经保存的情况</div><div class="line">输入w保存分区</div></pre></td></tr></table></figure></p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG30.jpg" alt=""></p>
<p>3.格式化交换分区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mkswap（后面跟随设备名称） /dev/sdb6 完成格式化</div></pre></td></tr></table></figure></p>
<p>4.启动交换分区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">swapon /dev/sdb6 	#启动交换分区</div><div class="line">free 				#查看加载状况</div><div class="line">swapoff /dev/sdb6 	#关闭交换分区</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;为磁盘添加SWAP交换分区&lt;/p&gt;
&lt;p&gt;1.首先建立一个普通的Linux分区&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;d
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 格式化</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-%E6%A0%BC%E5%BC%8F%E5%8C%96/"/>
    <id>http://yoursite.com/2018/05/06/Linux磁盘管理-格式化/</id>
    <published>2018-05-06T06:23:56.000Z</published>
    <updated>2018-05-06T08:38:54.588Z</updated>
    
    <content type="html"><![CDATA[<h2 id="格式化："><a href="#格式化：" class="headerlink" title="格式化："></a>格式化：</h2><p>又称逻辑格式化，它是指根据用户选定的文件系统（eg：FAT16（最大支持2GB分区），FAT32（单个文件大小不能超过4GB，最大支持16TB分区），NTFS，EXT2，EXT3，EXT4（centos6默认文件系统）等），在磁盘特定区域写入特定数据，在分区中划出一片用于存放文件分配表、目录表等用于文件管理的磁盘空间。</p>
<p>格式化的目的并不是清空数据，其根本目的是为了<strong>写入文件系统，能够更快查找读写数据</strong>，但是在进行格式化的操作时会先清空原有数据。</p>
<p>格式化具体进行的操作：<br>将整个分区分割成等大小的数据块（Block），每个数据块默认4KB，存储文件的最小，可以手动选择1KB、2KB或4KB。假设存放10KB的文件，会使用3个数据块，三个数据块不一定是连续的，最后的一数据块中即使没有放满，也不能再存放其他文件。<br>在分区列表中建立一个二维表格，记录了文件的id号（即文件放在那些数据库中，叫做iNode）、文件修改时间、文件的访问权限。操作文件时先访问此二维表进行权限匹配。</p>
<p>parted工具可以格式化，但是parted支持的文件系统有限<br>无论使用MBR，还是GPT进行的分区，都可以使用”mkfs”进行分区格式化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkfs (-make for system)</div><div class="line">mkfs -t ext3 /dev/sda6     #将sda6分区格式化为ext3格式</div><div class="line">mkfs -t ext2 /dev/sda7     #将sda7分区格式化为ext2格式</div></pre></td></tr></table></figure>
<p>MBR只有主分区和逻辑分区可以格式化， 扩展分区不可以格式化<br>GPT类型格式化后，使用fdisk看不到各个分区的系统文件格式， 必须启动parted工具的print指令来查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ls -l /dev/sdb 		#查看sdb磁盘上的设备情况</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;格式化：&quot;&gt;&lt;a href=&quot;#格式化：&quot; class=&quot;headerlink&quot; title=&quot;格式化：&quot;&gt;&lt;/a&gt;格式化：&lt;/h2&gt;&lt;p&gt;又称逻辑格式化，它是指根据用户选定的文件系统（eg：FAT16（最大支持2GB分区），FAT32（单个文件大小不能超过4GB
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 GPT分区</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-GPT%E5%88%86%E5%8C%BA/"/>
    <id>http://yoursite.com/2018/05/06/Linux磁盘管理-GPT分区/</id>
    <published>2018-05-06T06:21:07.000Z</published>
    <updated>2018-05-06T07:36:44.706Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MBR分区模式和GPT分区模式比较"><a href="#MBR分区模式和GPT分区模式比较" class="headerlink" title="MBR分区模式和GPT分区模式比较"></a>MBR分区模式和GPT分区模式比较</h2><p>MBR</p>
<ul>
<li>区容量最大2TB</li>
<li>分区命令fdisk /dev/sdxx  </li>
<li>分区完毕，执行-w 写入分区表才能生效</li>
<li>分区表类型是：msdos</li>
<li>缺点：限制多，跟不上发展</li>
</ul>
<p>GPT</p>
<ul>
<li>主分区个数”几乎”没有限制（最多128个）</li>
<li>单个分区容量”几乎”没有限制(最大18EB)</li>
<li>使用parted命令工具（同时支持MBR,GPT分区）</li>
<li>分区表类型是：gpt</li>
<li>1EB=1024PB,1PB=1024TB,1TB=1024GB</li>
<li>缺点：GPT主分区中不适合安装x86的系统架构</li>
</ul>
<h2 id="使用parted进行分区"><a href="#使用parted进行分区" class="headerlink" title="使用parted进行分区"></a>使用parted进行分区</h2><p>fdisk只能给硬盘做MBR分区<br>parted既能给硬盘做MBR分区，又能做GPT分区</p>
<p>####<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">输入parted命令，启动parted分区工具，默认分区目标是系统的第一块硬盘</div><div class="line">输入help，查看帮助信息</div><div class="line">输入select /dev/sdc，切换分区目标磁盘</div><div class="line">输入mklable命令，给目标硬盘指定分区表的类型，然后才能给硬盘添加分区，如果使用MBR分区，输入mklabel msdos;使用GPT分区，输入mklabel gpt</div><div class="line">输入print 查看当前分区详情；输入print all命令，查看所有分区详情</div><div class="line"></div><div class="line">parted分区操作模式：①交互模式（使用提问模式选择） ②命令模式</div><div class="line"></div><div class="line">**交互模式**</div><div class="line">输入mkpart  #添加分区</div><div class="line">输入分区名称</div><div class="line">选择分区系统类型</div><div class="line">分区从第几MB开始，4K对齐对硬盘分区很重要，为了达到最佳性能，分出1MB空间，让数据块对齐</div><div class="line">结束位置</div><div class="line"></div><div class="line">**命令模式**</div><div class="line">命令模式下，分区名称不能省略</div><div class="line">mkpart test(分区名称) 2000(开始位置2000MB) 3000(结束位置MB)</div><div class="line"></div><div class="line"></div><div class="line">rm [分区编号] #删除分区</div><div class="line">unit GB		#使用GB给分区指定开始和结束位置</div><div class="line">quit		#退出分区工具</div></pre></td></tr></table></figure></p>
<p>fdisk分区设计完成后 最后要通过w来写入硬盘,parted不需使用w保存</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;MBR分区模式和GPT分区模式比较&quot;&gt;&lt;a href=&quot;#MBR分区模式和GPT分区模式比较&quot; class=&quot;headerlink&quot; title=&quot;MBR分区模式和GPT分区模式比较&quot;&gt;&lt;/a&gt;MBR分区模式和GPT分区模式比较&lt;/h2&gt;&lt;p&gt;MBR&lt;/p&gt;
&lt;u
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 基本命令</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/06/Linux磁盘管理-基本命令/</id>
    <published>2018-05-06T06:04:50.000Z</published>
    <updated>2018-05-06T06:08:00.089Z</updated>
    
    <content type="html"><![CDATA[<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">df：查看磁盘分区使用状况</div><div class="line">-l：仅显示本地默认磁盘（默认）</div><div class="line">-a：显示所有文件系统的磁盘使用情况</div><div class="line">-h：以1024进制计算最合适的单位显示磁盘容量（默认KB显示）</div><div class="line">-H：显示以1000进制计算最合适的单位显示磁盘容量</div><div class="line">-T：显示磁盘分区类型</div><div class="line">-t：显示指定类型文件系统的磁盘分区  //如：df -t ext4</div><div class="line">-x：不显示指定类型文件系统的磁盘分区</div></pre></td></tr></table></figure>
<h2 id="du"><a href="#du" class="headerlink" title="du"></a>du</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">du 统计磁盘上的文件大小</div><div class="line">-b 以byte为单位统计文件  //统计出来的都是四舍五入的大小</div><div class="line">-k 以KB为单位统计文件    //统计出来的都是四舍五入的大小</div><div class="line">-m 以MB为单位统计文件    //统计出来的都是四舍五入的大小</div><div class="line">-h 按照1024进制以最适合的单位统计文件</div><div class="line">-H 按照1000进制以最适合的单位统计文件</div><div class="line">-s 指定统计目标  </div><div class="line">du -s tmp</div><div class="line">du -sb *.zip</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;df&quot;&gt;&lt;a href=&quot;#df&quot; class=&quot;headerlink&quot; title=&quot;df&quot;&gt;&lt;/a&gt;df&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div c
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux su root和sudo su</title>
    <link href="http://yoursite.com/2018/05/05/Linux-su-root%E5%92%8Csudo-su/"/>
    <id>http://yoursite.com/2018/05/05/Linux-su-root和sudo-su/</id>
    <published>2018-05-05T15:43:02.000Z</published>
    <updated>2018-05-06T05:51:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>来自<a href="https://askubuntu.com/questions/86095/does-executing-sudo-su-and-su-root-do-the-same-thing?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa" target="_blank" rel="external">https://askubuntu.com/questions/86095/does-executing-sudo-su-and-su-root-do-the-same-thing?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa</a></p>
<p>Does executing sudo su and su root do the same thing?What are the technical differences between the two? The only thing I noticed is that</p>
<p><code>sudo su</code><br>requires you to enter your own password (assuming you’re not root)</p>
<p><code>su root</code><br>requires you to enter root’s password. However both seem to log you into the root user account.</p>
<p>The second command cannot be executed in a default Ubuntu installation, where the root account is not enabled.</p>
<p>But supposing you have unlocked the root account giving him a password, the two commands could only differ in the environment and shell variable set, I think. Compare the output of env in the two situations, and maybe also the output of set to see the differences.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;来自&lt;a href=&quot;https://askubuntu.com/questions/86095/does-executing-sudo-su-and-su-root-do-the-same-thing?utm_medium=organic&amp;amp;utm_source=g
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux用户管理</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/"/>
    <id>http://yoursite.com/2018/05/05/Linux用户管理/</id>
    <published>2018-05-05T14:41:15.000Z</published>
    <updated>2018-05-06T01:10:57.440Z</updated>
    
    <content type="html"><![CDATA[<p>用户：使用操作系统的人<br>用户组：具有相同系统权限的一组用户</p>
<h2 id="用户和用户组配置文件"><a href="#用户和用户组配置文件" class="headerlink" title="用户和用户组配置文件"></a>用户和用户组配置文件</h2><p>/etc/group    存储当前系统中所有用户组的信息<br>-Group：        x        ：  501   ：abc,def,xyz<br>-组名称：组密码占位符    ： 组编号：组中用户名列表</p>
<p>组编号1-499是系统预留给软件的<br>手动创建的用户从500开始</p>
<p>/etc/gshadow    存储当前系统中用户组的密码信息<br>-Group：        *        ：      ：abc,def,xyz<br>-组名称：  组密码    ：组管理者：组中用户名列表</p>
<p>/etc/passwd    存储当前系统中所有用户的信息<br>-user：    x    ：   123   ：   456    ：   xxxxxxxx  ：/home/user  ： /bin/bash<br>-用户名：密码占位符：用户编号： 用户组编号：  用户注释信息：用户主目录 ：shell类型</p>
<p>/etc/shadow    存储当前系统中所有用户的密码信息<br>-user    ：   vf;/Zu8sdf… ：：：：：<br>-用户名 ：    密码         ：：：：：</p>
<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">####用户基本命令</div><div class="line">useradd 用户名					#添加用户，所在用户组与用户名同名</div><div class="line">useradd -g 组名 用户名			#添加用户，指定其所在的组</div><div class="line">useradd -d 目录 用户名 			#添加用户，制定其用户的家目录，没有指定所在组时，默认用户名就为用户组名</div><div class="line">#passwd 用户名					#新建的用户需要设置密码，设置用户目录</div><div class="line"></div><div class="line">usermod -c 注释信息 用户名 	  #为指定用户名添加注释</div><div class="line">usermod -l 新用户名 旧用户名 		#更改用户名</div><div class="line">usermod -d 目录 用户名 			#更改用户个人文件夹的路径</div><div class="line">usermod -g 新用户组 用户名 	#更改指定用户的所属组</div><div class="line">userdel 用户名 				#删除用户，但是不删除用户个人文件夹里的文件</div><div class="line">userdel -r 用户名 				#删除用户并且删除用户个人文件夹里的文件</div></pre></td></tr></table></figure>
<p>####用户组基本命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">groupadd 组名 				#创建用户组</div><div class="line">groupadd -g 组编号 组名 			#创建用户组并指定组编号</div><div class="line">groupmod -n 新组名 原组名 		#更改用户组名称</div><div class="line">groupmod -g 组编号 组名 			#设置用户组编号</div><div class="line">groupdel 组名 					#删除用户组，前提是用户组内没有用户</div></pre></td></tr></table></figure></p>
<h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">touch /etc/nologin					#在etc目录下创建一个nologin文件(文件内容无关紧要)，暂时禁止除管理员外的用户登录</div><div class="line">passwd -l user1						#锁定账户</div><div class="line">passwd -u user1						#解锁账户</div><div class="line">passwd -d user1						#清除用户密码，无密码登录</div></pre></td></tr></table></figure>
<p>主要组和附属组：<br>用户可以同时属于多个组，一个是主要组，其他的为附属组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">gpasswd -a 用户名 附属组 			#给用户添加附属组</div><div class="line">gpasswd -d 用户名 附属组 			#把用户从附属组中删除</div><div class="line"></div><div class="line">newgrp 组名</div><div class="line">#用户创建的文件默认为主要组；需要以附属组创建文件的，需将身份切换到附属组</div><div class="line">#把用户的组切换到附属组，需要用户登录后，自己执行，切换</div><div class="line">#组密码是在组切换时用的，如果有会要求输入组密码</div><div class="line"></div><div class="line">useradd -g group1 -G group2,group3... 用户名  </div><div class="line">#同时指定主用户组和附属用户组</div><div class="line">gpasswd 用户名 </div><div class="line">#更改组密码,回车会有相应的提示操作</div><div class="line">gpasswd -a 用户名 附属组，附属组，.....</div><div class="line">#添加附属组</div><div class="line">usermod -g</div><div class="line">#修改主要组</div><div class="line"></div><div class="line">su 用户名 				#切换到其他用户下</div><div class="line">su 					</div><div class="line">#后面什么也不接表示切换到root用户下</div><div class="line">#普通用户进其他用户需要密码，root用户进普通用户不需要密码</div><div class="line"></div><div class="line">whoami				#显示当前登录用户名</div><div class="line">id 用户名</div><div class="line">#显示指定用户信息，包括用户编号、用户编号、主要组编号及名称、附属组列表</div><div class="line">groups 用户名 		#显示用户所在的所有组，包括主要组和附属组</div><div class="line">chfn 用户名 		#设置用户资料，依次输入用户资料</div><div class="line">finger 用户名 		#显示用户详细资料</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用户：使用操作系统的人&lt;br&gt;用户组：具有相同系统权限的一组用户&lt;/p&gt;
&lt;h2 id=&quot;用户和用户组配置文件&quot;&gt;&lt;a href=&quot;#用户和用户组配置文件&quot; class=&quot;headerlink&quot; title=&quot;用户和用户组配置文件&quot;&gt;&lt;/a&gt;用户和用户组配置文件&lt;/h2&gt;&lt;
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 关机和重启</title>
    <link href="http://yoursite.com/2018/05/05/Linux-%E5%85%B3%E6%9C%BA%E5%92%8C%E9%87%8D%E5%90%AF/"/>
    <id>http://yoursite.com/2018/05/05/Linux-关机和重启/</id>
    <published>2018-05-05T07:24:14.000Z</published>
    <updated>2018-05-05T10:15:05.588Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h2><pre><code>shutdown [选项] 时间
#相比其它命令更安全，在关机和重启时会正确保存正在运行的程序
选项：
 -c:取消前一个关机命令
 -h:关机（half）
 -r:重启

shutdown -r 05:30
shutdown -r 05:30 &amp; (后台运行)
shutdown -r now
#在服务器上尽量避免远程关机，因为再开机麻烦，所以远程重启就足够了
#服务器由于经常进行高速运算强制重启非常容易损坏硬件，也容易造成数据丢失，所以一定要小心

#其他关机命令(不安全，慎用)
half
poweroff
init 0
</code></pre><p><br>  </p>
<h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><pre><code>reboot (相对安全)
init 6 (尽量不要用)
</code></pre><p><br>  </p>
<h2 id="系统运行级别"><a href="#系统运行级别" class="headerlink" title="系统运行级别"></a>系统运行级别</h2><p>0 关机<br>1 单用户 （与windows安全模式相似）<br>2 不完全多用户，不含NFS服务（NFS：文件共享服务）<br>3 完全多用户（字符界面）<br>4 未分配<br>5 图形界面（如果装了图形界面，init 5 进入图形界面）<br>6 重启</p>
<pre><code>runlevel
# 查询系统运行级别
# 结果：N 3 (当前是3 N是上一次登陆级别)

cat /etc/inittab 
# 查看/etc/inittab的内容
id:3:initdefault: 
# 修改系统默认运行级别，这里默认是3
</code></pre><p><br>  </p>
<h2 id="退出登录命令"><a href="#退出登录命令" class="headerlink" title="退出登录命令"></a>退出登录命令</h2><pre><code>logout 
# LINUX默认同时256个登录，最大支持6万多
# 每次使用后，建议退出当前用户，避免他人因账户占用无法使用！与windows中的注销相似！
</code></pre><p>注意：<br>如果关闭远程登录xshell时直接点X，该用户就卡在计算机里，因为没有正确退出，所以一定养成正确退出登录的习惯</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;关机&quot;&gt;&lt;a href=&quot;#关机&quot; class=&quot;headerlink&quot; title=&quot;关机&quot;&gt;&lt;/a&gt;关机&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;shutdown [选项] 时间
#相比其它命令更安全，在关机和重启时会正确保存正在运行的程序
选项：
 -c:取消前一个关
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 帮助命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux-%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux-帮助命令/</id>
    <published>2018-05-05T07:22:49.000Z</published>
    <updated>2018-05-05T09:51:17.124Z</updated>
    
    <content type="html"><![CDATA[<h2 id="man"><a href="#man" class="headerlink" title="man"></a>man</h2><pre><code>man 命令
# 获取指定命令的帮助
# man是manual的缩写
# 最常用的帮助命令
# q退出
# 输入:/-d 搜索&quot;-d&quot;字符串，按n往下搜“-d”,shift+n 往上搜“-d”

man -f 命令
# 查看命令的所有帮助等级
# 相当于 whatis 命令
# 因为whereis命令可以看到命令的帮助文档目录，所以也可以查看目录的等级

man 级别 命令
#查看相应等级的命令
man -5 passwd
man -4 null
man -8 ifconfig

man -k 命令 
# 相当于 apropos 命令
# 搜索含有关键词“命令”的所有帮助文档
man -k passwd
# 搜索含有关键词“passwd”的所有命令的帮助文档
</code></pre><p>man的级别：</p>
<ol>
<li>查看命令的帮助</li>
<li>查看可被内核调用的函数的帮助</li>
<li>查看函数和函数库的帮助</li>
<li>查看特殊文件的帮助（主要是/dev目录下的文件）</li>
<li>查看配置文件的帮助</li>
<li>查看游戏的帮助</li>
<li>查看其它杂项的帮助</li>
<li>查看系统管理员可用命令的帮助</li>
<li>查看和内核相关文件的帮助</li>
</ol>
<h2 id="–help"><a href="#–help" class="headerlink" title="–help"></a>–help</h2><pre><code>命令 --help 
#获取命令选项的帮助
ls --help 
</code></pre><h2 id="helpshell内部命令帮助"><a href="#helpshell内部命令帮助" class="headerlink" title="helpshell内部命令帮助"></a>helpshell内部命令帮助</h2><pre><code>help shell内部命令
#whereis可以用来判断一个命令是否是shell内部命令
#ls在/bin/下面有可执行文件，说明ls命令不是shell内部命令
#cd命令在/bin/下面没有相应的可执行文件，所以是shell自带的命令
</code></pre><p>man命令不能只获取shell的内部命令</p>
<pre><code>#help命令只能获取shell的内部命令
</code></pre><h2 id="info"><a href="#info" class="headerlink" title="info"></a>info</h2><pre><code>info 命令
#info里面内容十分繁琐，是关于命令的一个巨大的帮助文档，里面有各个版本对于此命令的说明。
回车：进入带*号的说明
-u: 进入上层页面
-n: 进入下一个帮助小节
-p: 进入上一个帮助小节
-q: 退出
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;man&quot;&gt;&lt;a href=&quot;#man&quot; class=&quot;headerlink&quot; title=&quot;man&quot;&gt;&lt;/a&gt;man&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;man 命令
# 获取指定命令的帮助
# man是manual的缩写
# 最常用的帮助命令
# q退出
# 输入:/
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 链接命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E9%93%BE%E6%8E%A5%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-链接命令/</id>
    <published>2018-05-05T04:32:53.000Z</published>
    <updated>2018-05-05T04:41:58.871Z</updated>
    
    <content type="html"><![CDATA[<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><pre><code>ln -s [原文件][目标文件] （link）
#生成链接文件
-s 创建软链接
</code></pre><p><br></p>
<h2 id="硬链接"><a href="#硬链接" class="headerlink" title="硬链接"></a>硬链接</h2><ul>
<li>拥有相同的i节点和存储block块，可以看做是同一个文件。（在格式化时，第一将分区划分为等大小的block数据块，该数据块通常为4KB。第二建立分区表，并为每个文件建立一个相关数据。当用户搜索某个文件时，会先到分区表中查找文件所对应的block存储位置，接着到相应位置取出，并返回给用户。）硬链接与原文件拥有相同的i节点。因此，与原文件非常相似。当删除原文件或硬链接文件的任何一文件，不影响文件索引操作。可看做，同一个文件的不通进入点。它是同样的存储空间。</li>
<li>可通过i节点识别</li>
<li>不能跨分区建立</li>
<li>不能针对目录使用，只有文件才可以创建</li>
</ul>
<pre><code>ln ./source/abc ./target/bcd.hard
# 创建后，引用计数+1
ls -i ./source/abc ./target/bcd.hard
# 可使用ls -i 来查看文件i节点号
</code></pre><p>不建议创建硬链接文件<br>文件太过隐蔽，除了有i节点这样一个标识之外，很难区分它是不是硬链接<br>硬链接限制较多，不能跨分区，不能针对目录，使用当中容易出现错误使用方法</p>
<p><br></p>
<p>##软链接</p>
<ul>
<li>类似于Windows快捷方式</li>
<li>软链接拥有自己的i节点和block块，但是数据块中只保存原文件的文件名和i节点号，并没有实际的文件数据。（拥有自己的分区表中索引数据,通过索引找到分区表中文件的目标索引数据，再通过目标索引数据，查找数据）</li>
<li>lrwxrwxrwx  l软链接， 软链接文件权限都为rwxrwxrwx, 虽然权限显示为777，但实际权限需要看原文件权限。</li>
<li>修改任意文件，另一个都改变</li>
<li>删除原文件，软链接不能使用</li>
<li>创建软链接，原文件<strong>一定要写绝对路径</strong>。否则，软链接会到它所在的同一目录去找原文件。</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;命令&quot;&gt;&lt;a href=&quot;#命令&quot; class=&quot;headerlink&quot; title=&quot;命令&quot;&gt;&lt;/a&gt;命令&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;ln -s [原文件][目标文件] （link）
#生成链接文件
-s 创建软链接
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 挂载命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-%E6%8C%82%E8%BD%BD%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux磁盘管理-挂载命令/</id>
    <published>2018-05-05T03:40:03.000Z</published>
    <updated>2018-05-06T07:58:30.195Z</updated>
    
    <content type="html"><![CDATA[<h2 id="手动挂载分区"><a href="#手动挂载分区" class="headerlink" title="手动挂载分区"></a>手动挂载分区</h2><p>手动挂载的分区，不具有永久性，系统重启后，挂载就会失效<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># 没有挂载无法使用，分区默认的挂载目录是/mnt目录</div><div class="line">sudo fdisk -l</div><div class="line">#查看系统的硬盘和硬盘分区情况，了解需要的设备，比如移动硬盘/U盘/windows下的分区/光盘</div><div class="line">sudo mkdir -p /media/usb</div><div class="line">#创建挂载目录</div><div class="line">sudo mount /dev/sdb /media/usb</div><div class="line">#挂载</div><div class="line"></div><div class="line">sudo umount /dev/sdb</div><div class="line">#卸载</div></pre></td></tr></table></figure></p>
<h2 id="永久挂载"><a href="#永久挂载" class="headerlink" title="永久挂载"></a>永久挂载</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/fstab</div></pre></td></tr></table></figure>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG29.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;手动挂载分区&quot;&gt;&lt;a href=&quot;#手动挂载分区&quot; class=&quot;headerlink&quot; title=&quot;手动挂载分区&quot;&gt;&lt;/a&gt;手动挂载分区&lt;/h2&gt;&lt;p&gt;手动挂载的分区，不具有永久性，系统重启后，挂载就会失效&lt;br&gt;&lt;figure class=&quot;highligh
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 文件解压缩命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E6%96%87%E4%BB%B6%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-文件解压缩命令/</id>
    <published>2018-05-05T03:39:33.000Z</published>
    <updated>2018-05-05T10:04:19.303Z</updated>
    
    <content type="html"><![CDATA[<p>常用压缩格式： .zip    .gz        .bz2<br>常用解压缩格式： .tar.gz        .tar.bz2    </p>
<h2 id="zip格式"><a href="#zip格式" class="headerlink" title=".zip格式"></a>.zip格式</h2><h3 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h3><pre><code>zip 压缩文件名 源文件   
#压缩文件
zip -r 压缩文件名 源目录  
#压缩目录
</code></pre><h3 id="解压缩"><a href="#解压缩" class="headerlink" title="解压缩"></a>解压缩</h3><pre><code>unzip 压缩文件
</code></pre><h2 id="gz格式"><a href="#gz格式" class="headerlink" title=".gz格式"></a>.gz格式</h2><h3 id="压缩-1"><a href="#压缩-1" class="headerlink" title="压缩"></a>压缩</h3><pre><code>gzip 源文件
#压缩为.gz格式的压缩文件，源文件消失

gzip -c 源文件 &gt; 压缩文件
#压缩为.gz格式，源文件保留
gzip -c cangls &gt; cangls.gz

gzip -r 目录
#压缩目录下所有的子文件，但是不能压缩目录
</code></pre><h3 id="解压缩-1"><a href="#解压缩-1" class="headerlink" title="解压缩"></a>解压缩</h3><pre><code>gzip -d 压缩文件 
gunzip 压缩文件    
</code></pre><h2 id="bz2格式"><a href="#bz2格式" class="headerlink" title=".bz2格式"></a>.bz2格式</h2><h3 id="压缩-2"><a href="#压缩-2" class="headerlink" title="压缩"></a>压缩</h3><pre><code>bzip2 源文件 
#压缩文件，源文件消失
bzip2 -k 源文件 
#压缩之后保留源文件 
#注意：bzip2命令不能压缩目录
</code></pre><h3 id="解压缩-2"><a href="#解压缩-2" class="headerlink" title="解压缩"></a>解压缩</h3><pre><code>bzip2 -d 压缩文件  #解压缩，-k保留压缩文件
bunzip2 压缩文件  #解压缩，-k保留压缩文件
</code></pre><h2 id="打包命令tar"><a href="#打包命令tar" class="headerlink" title="打包命令tar"></a>打包命令tar</h2><pre><code>tar -cvf 打包文件名 源文件 
# 压缩为tar格式
tar -zcvf 压缩包名.tar.gz 源文件 
# 压缩为.tar.gz格式
tar -jcvf 压缩包名.tar.bz2 源文件 
# 压缩为.tar.bz2格式

#解压tar
tar -xvf 打包文件名 
#解压tar格式文件
tar -zxvf 压缩包名.tar.gz 
#解压.tar.gz格式文件
tar -jxvf 压缩包名.tar.bz2 
#解压.tar.bz2格式文件

-c：打包
-v：显示过程
-f：指定打包后的文件名
-x：解打包
-z：压缩为.tar.gz格式
-j：压缩为.tar.bz2格式

其他用法
tar -jxvf 打包文件名 -C 绝对路径 
#指定解压缩位置
tar -zcvf 绝对路径（/tmp/）+打包文件名 源文件 源文件 
#将多个文件解压到指定路径
tar -ztvf 压缩包文件名 
#查看压缩包内文件
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;常用压缩格式： .zip    .gz        .bz2&lt;br&gt;常用解压缩格式： .tar.gz        .tar.bz2    &lt;/p&gt;
&lt;h2 id=&quot;zip格式&quot;&gt;&lt;a href=&quot;#zip格式&quot; class=&quot;headerlink&quot; title=&quot;.zi
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 文件搜索命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E6%96%87%E4%BB%B6%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-文件搜索命令/</id>
    <published>2018-05-05T03:38:51.000Z</published>
    <updated>2018-05-05T12:58:32.256Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文件搜索命令-locate"><a href="#文件搜索命令-locate" class="headerlink" title="文件搜索命令 locate"></a>文件搜索命令 locate</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">locate 文件名</div><div class="line">#在后台数据库中按文件名搜索，搜索速度更快</div><div class="line"></div><div class="line">/var/lib/mlocate (保存的搜索数据库)</div><div class="line">#locate 命令所搜索的后台数据库</div><div class="line">#数据库不是实时的，更新频率大概一天更新一次</div><div class="line"></div><div class="line">updatedb</div><div class="line">#更新数据库</div></pre></td></tr></table></figure>
<p>对于新建的文件，由于数据库没有更新，使用<code>locate</code>不能查到。可以使用 updatedb强制更新数据库后即可查到。<br>可使用 <code>locate locate</code>搜索locate相关文件，可看到locate数据库。<br>在不同linux中，该数据库名字稍微不同，例如，locatedb、slocate、mlocate。</p>
<p>缺点：只能按照文件名进行搜索，但常用。</p>
<h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">touch /root/cangls</div><div class="line">touch /tmp/cangls</div><div class="line">updatedb</div><div class="line">locate cangls</div><div class="line">#显示为 /root/cangls  </div><div class="line">#只有一条，而/tmp下的cangls没有显示出来</div><div class="line">#原因在于locate搜索遵循配置文件 `/etc/updatedb.conf`</div><div class="line">#在PRUNEPATHS 中配置了/tmp/目录不进行搜索。所以没有进行查找</div><div class="line"></div><div class="line">/etc/updatedb.conf 配置文件</div><div class="line">PRUNE_BIND_MOUNTS = &quot;yes&quot;</div><div class="line">#开启搜索限制，yes为后面三项都生效。no为 后面三项都不生效</div><div class="line">PRUNEFS = </div><div class="line">#搜索时，不搜索的文件系统</div><div class="line">PRUNENAMES =</div><div class="line">#搜索时，不搜索的文件类型</div><div class="line">PRUNEPATHS =</div><div class="line">#搜索时，不搜索的路径</div></pre></td></tr></table></figure>
<p><br></p>
<h2 id="命令搜索命令-whereis和wchich"><a href="#命令搜索命令-whereis和wchich" class="headerlink" title="命令搜索命令 whereis和wchich"></a>命令搜索命令 whereis和wchich</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">whereis 命令名</div><div class="line">#搜索命令所在路径及帮助文档所在位置</div><div class="line">#只能搜索系统命令，不能搜索自己凭空创建的普通文件</div><div class="line">选项：</div><div class="line">-b:只查找可执行文件</div><div class="line">-m:只查找帮助文件</div><div class="line">#whoami 	显示当前操作用户</div><div class="line">#who am i	显示登录用户</div><div class="line">#whatis ls	显示ls的作用</div><div class="line"></div><div class="line">which 命令名</div><div class="line">#搜索命令所在路径及别名</div><div class="line">#如果有别名，还能看到别名</div><div class="line"></div><div class="line"># whereis和which不能看到shell的默认命令（如：cd），只能看到外部安装的命令。</div><div class="line"></div><div class="line">PATH环境变量</div><div class="line">定义系统搜索命令的路径</div><div class="line">echo $PATH</div><div class="line">执行命令的时候都要在path定义的目录中去寻找</div></pre></td></tr></table></figure>
<p><br></p>
<h2 id="文件搜索命令-find"><a href="#文件搜索命令-find" class="headerlink" title="文件搜索命令 find"></a>文件搜索命令 find</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">find [搜索范围][搜索条件]</div><div class="line">#搜索文件</div><div class="line"></div><div class="line">find /home -name 文件名</div><div class="line"># find搜索默认是完全匹配</div><div class="line"># 避免大范围的搜索，会非常浪费系统资源</div><div class="line"># find是在系统当中搜索符合条件的文件名，如果需要匹配，使用通配符匹配，通配符是完全匹配</div><div class="line">find /home -name &quot;[12]*&quot;</div><div class="line">find /home -name &quot;test[12]&quot;</div><div class="line">#要加引号</div><div class="line">*匹配任意内容</div><div class="line">?匹配任意一个字符</div><div class="line">[]匹配任意一个中括号内的字符</div><div class="line"></div><div class="line">find /home -mtime +10 在home目录下，查找10天前修改的文件</div><div class="line">find /home -mtime 10 在home目录下，查找10天前当天修改的文件</div><div class="line">find /home -mtime -10 在home目录下，查找10天内修改的文件</div><div class="line"># atime 文件访问时间</div><div class="line"># ctime 改变文件属性</div><div class="line"># mtime 修改文件内容</div><div class="line"></div><div class="line">find /root -iname test </div><div class="line"># 不区分要搜索的test大小写格式</div><div class="line">find /root -user root </div><div class="line"># -user 按文件所有者搜索</div><div class="line"># 搜索root目录下的所有属于root用户的文件</div><div class="line">find /root -nouser </div><div class="line">#没有所属者的文件，liunx中，每个文件都有所属者，如果没有，那么一般都是垃圾文件，但还是有特例的，比如内核产生的文件，就没有所属者，一般在proc和sys目录下；还有外来文件，也就是U盘拷入的文件也会忽略所有者。</div><div class="line"></div><div class="line">find 目录 -size 25k</div><div class="line"># 查找文件大小是25KB的文件</div><div class="line"># 注意：文件大小用小写k和大写M</div><div class="line"># -25k    小于25k</div><div class="line"># 25k     等于25k</div><div class="line"># +25k    大于25k</div><div class="line"></div><div class="line">find . -size 25M </div><div class="line"># 查询当前目录文件大小是25M的文件</div><div class="line"></div><div class="line">find /etc -size +20k -a -size -50k </div><div class="line"># 查找/etc下大于20k并且小于50k的文件</div><div class="line"># -a and,逻辑与，两个条件都满足</div><div class="line"># -o or,逻辑或，两个条件满足一个即可</div><div class="line"></div><div class="line">find /etc -size +20k -a -size -50k -exec ls -lh &#123;&#125; \;</div><div class="line">-exec &#123;&#125; \; </div><div class="line"># 固定格式，表示直接对前面的搜索结果进行后面的命令处理</div><div class="line"># 注意，&#123;&#125;和\之间有空格，结尾有分号</div><div class="line"></div><div class="line">find . -inum 262422 </div><div class="line"># 查找inode是262422的文件</div><div class="line"># -inum 查询指定i节点的文件</div></pre></td></tr></table></figure>
<p><br></p>
<h2 id="字符串搜索命令-grep"><a href="#字符串搜索命令-grep" class="headerlink" title="字符串搜索命令 grep"></a>字符串搜索命令 grep</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">grep [选项] 字符串 文件名</div><div class="line"># 在文件中匹配符合条件的字条串</div><div class="line"># 字符串使用 &quot;&quot; 包围，结果为行记录</div><div class="line">-i 忽略大小写</div><div class="line">-v 排除指定字符串</div></pre></td></tr></table></figure>
<p><br></p>
<h2 id="find命令和grep命令的区别"><a href="#find命令和grep命令的区别" class="headerlink" title="find命令和grep命令的区别"></a>find命令和grep命令的区别</h2><p>find：在 系统 中搜索符合条件的 文件名，使用 通配符（完全）匹配<br>grep：在 文件 当中搜索符合条件的 字符串，使用 正则表达式 （包含）匹配</p>
<p>通配符（完全）匹配：搜索文件名<br>正则表达式 （包含）匹配：搜索文件中的数据</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文件搜索命令-locate&quot;&gt;&lt;a href=&quot;#文件搜索命令-locate&quot; class=&quot;headerlink&quot; title=&quot;文件搜索命令 locate&quot;&gt;&lt;/a&gt;文件搜索命令 locate&lt;/h2&gt;&lt;figure class=&quot;highlight plai
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 文件处理命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-文件处理命令/</id>
    <published>2018-05-05T03:38:20.000Z</published>
    <updated>2018-05-05T03:41:18.513Z</updated>
    
    <content type="html"><![CDATA[<p>linux中一切皆文件。目录为目录文件。普通文件用来保存数据，目录文件用来保存文件</p>
<h4 id="命令提示符"><a href="#命令提示符" class="headerlink" title="命令提示符"></a>命令提示符</h4><pre><code>[root@localhost ~]#
root 当前登录用户
localhost 主机名
~ 当前所在目录（家目录）
# 超级用户的提示符
$ 普通用户的提示符
</code></pre><h4 id="命令的格式"><a href="#命令的格式" class="headerlink" title="命令的格式"></a>命令的格式</h4><pre><code>命令 [选项][参数]
个别命令使用不遵循此格式
当有多个选项时，可以写在一起
简化选项与完整选项：-a == --all
</code></pre><h4 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h4><ul>
<li>相对路径：参照当前所在目录，进行查找</li>
<li>绝对路径：从根目录开始制定，一级一级递归，进行查找</li>
</ul>
<h4 id="ls-查询目录中的内容"><a href="#ls-查询目录中的内容" class="headerlink" title="ls 查询目录中的内容"></a>ls 查询目录中的内容</h4><pre><code>ls [选项] [文件或目录]
    -a 显示所有文件,包括隐藏文件
    -l 显示详细信息
    -d 查看目录属性
    -h 人性化显示文件大小
    -i 显示inode
ll命令表示ls -l
</code></pre><h4 id="mkdir-建立目录（make-directories）"><a href="#mkdir-建立目录（make-directories）" class="headerlink" title="mkdir  建立目录（make directories）"></a>mkdir  建立目录（make directories）</h4><pre><code>mkdir -p [目录名]
    -p ：递归创建，当创建多级目录时需加
mkdir light
mkdir -p imooc/linux/light
</code></pre><h4 id="cd-切换目录（change-directory）"><a href="#cd-切换目录（change-directory）" class="headerlink" title="cd 切换目录（change directory）"></a>cd 切换目录（change directory）</h4><pre><code>cd [目录]
简化操作
cd：进入当前用户的家目录
cd ~ ：进入当前用户的家目录
cd - ：进入上次目录
cd .. ：进入上一级目录
cd . ：进入当前目录
</code></pre><h4 id="pwd-查询所在目录位置（print-working-directory）"><a href="#pwd-查询所在目录位置（print-working-directory）" class="headerlink" title="pwd 查询所在目录位置（print working directory）"></a>pwd 查询所在目录位置（print working directory）</h4><h4 id="rmdir-删除空目录（remove-empty-directories）"><a href="#rmdir-删除空目录（remove-empty-directories）" class="headerlink" title="rmdir 删除空目录（remove empty directories）"></a>rmdir 删除空目录（remove empty directories）</h4><pre><code>rmdir [目录名] 
#只能删除空目录
</code></pre><h4 id="rm-删除文件或目录（remove）"><a href="#rm-删除文件或目录（remove）" class="headerlink" title="rm 删除文件或目录（remove）"></a>rm 删除文件或目录（remove）</h4><pre><code>rm -rf [文件或目录] 
    -r ：删除目录
    -f ：强制
rm [文件名] ：提示是否删除
rm -r [目录] ：删除目录需加 -r ，目录中含有子文件，将持续询问是否删除
rm -rf [目录] ：删除目录， 不会询问是否删除而直接进行
# 纯字符界面没有回收站。注意自杀指令：rm -rf /
rm -rf /tmp/* ：删除tmp目录下的内容
rm -rf /tmp/  ：删除tmp目录
# 建议：删除文件或目录习惯使用命令 rm -rf [文件或目录]
</code></pre><h4 id="cp-复制命令（copy）"><a href="#cp-复制命令（copy）" class="headerlink" title="cp 复制命令（copy）"></a>cp 复制命令（copy）</h4><pre><code>cp [选项] [原文件或目录] [目标目录] 
    -r ：复制目录
    -p ：连带文件属性复制
    -d ：若原文件是链接文件，则复制链接属性
    -a ：相当于 -pdr 全选
cp abc /tmp/ 若目标目录不加文件名，则为原名复制
cp abc /tmp/ana 若目标目录后加入文件名，则为改名复制
cp -r japan/ /tmp/ 复制目录
cp -a japan/ /tmp/ 完全复制，包括所有属性
#被复制文件的时间为执行复制命令的时间，若要使被复制的文件与原文件属性完全一致，需加 -a
</code></pre><h4 id="mv-剪切或改名命令（move）"><a href="#mv-剪切或改名命令（move）" class="headerlink" title="mv 剪切或改名命令（move）"></a>mv 剪切或改名命令（move）</h4><pre><code>mv [原文件或目录] [目标目录] 
mv japan/ /tmp/ 剪切目录时不需加 -r
mv abc longls 当原文件与目标目录，在同一目录下，则为改名命令
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;linux中一切皆文件。目录为目录文件。普通文件用来保存数据，目录文件用来保存文件&lt;/p&gt;
&lt;h4 id=&quot;命令提示符&quot;&gt;&lt;a href=&quot;#命令提示符&quot; class=&quot;headerlink&quot; title=&quot;命令提示符&quot;&gt;&lt;/a&gt;命令提示符&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;[
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 常用目录</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E5%B8%B8%E7%94%A8%E7%9B%AE%E5%BD%95/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-常用目录/</id>
    <published>2018-05-05T02:13:04.000Z</published>
    <updated>2018-05-05T04:31:46.635Z</updated>
    
    <content type="html"><![CDATA[<p>linux 是个严谨的操作系统，一级目录都严格规定</p>
<p>/ 根目录</p>
<p>/home 普通用户的家目录<br>/root 超级用户的家目录<br>/tmp 临时目录，可存放临时数据</p>
<p>/lib 系统库保存目录<br>操作系统中并没有把所有功能都写入linux中，而将常用的功能写成一个个程序库，这些库保存在lib中，当需要时调用即可。避免全部写入linux中，使其无比庞大且运行缓慢。</p>
<p>/mnt<br>/media<br>/misc<br>三个都可以用来挂载</p>
<p>/proc 直接写入内存的<br>/sys 直接写入内存的<br>这两个目录保存的是内存的挂载点，不能直接操作。其中的数据直接写在内存中。避免数据丢失或由于内存溢出导致系统崩溃。</p>
<p>/boot 启动目录，启动相关文件<br>/dev 设备文件保存目录<br>/etc 配置文件保存目录<br>/var 系统相关文档内容</p>
<p>/usr 系统软件资源目录<br>/usr/bin/ 系统命令（普通用户）<br>/usr/sbin/ 系统命令（超级用户）</p>
<p>/bin 命令保存目录（普通用户就可以读取的命令）<br>/sbin 命令保存目录（超级用户才能使用的目录）<br>根目录下的bin和sbin，usr目录下的bin和sbin，这四个目录都是用来保存系统命令。其中，bin目录<br>下的命令任何用户都可以执行，sbin目录下只有root才可以执行。linux使用此方式来区分用户权限。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;linux 是个严谨的操作系统，一级目录都严格规定&lt;/p&gt;
&lt;p&gt;/ 根目录&lt;/p&gt;
&lt;p&gt;/home 普通用户的家目录&lt;br&gt;/root 超级用户的家目录&lt;br&gt;/tmp 临时目录，可存放临时数据&lt;/p&gt;
&lt;p&gt;/lib 系统库保存目录&lt;br&gt;操作系统中并没有把所有功能都
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 MBR分区</title>
    <link href="http://yoursite.com/2018/05/04/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-MBR%E5%88%86%E5%8C%BA/"/>
    <id>http://yoursite.com/2018/05/04/Linux磁盘管理-MBR分区/</id>
    <published>2018-05-04T12:28:18.000Z</published>
    <updated>2018-05-06T07:09:26.793Z</updated>
    
    <content type="html"><![CDATA[<p>硬件设备都是由Linux系统自动识别的，必须对硬盘进行分区、格式化、挂载后才能使用</p>
<p>分区的意义：<a href="http://www.cnblogs.com/personnel/p/4584926.html" target="_blank" rel="external">http://www.cnblogs.com/personnel/p/4584926.html</a></p>
<p>Windows与Linux的磁盘使用流程</p>
<ul>
<li>Windows：分区–&gt;格式化–&gt;分配盘符</li>
<li>Linux：分区–&gt;格式化–&gt;给每个分区起“设备文件名”–&gt;分配挂载点</li>
</ul>
<h2 id="MBR"><a href="#MBR" class="headerlink" title="MBR"></a>MBR</h2><p>MBR=主引导区记录。硬盘的0磁道的第一个扇区称为MBR，它的大小是512字节，而这个区域可以分为三个部分。第一部分为pre-boot区（预启动区），占446字节；第二部分是Partition table区（分区表），占64个字节，硬盘中分区有多少以及每一分区的大小都记在其中。第三部分是magic number，占2个字节，固定为55AA。</p>
<p>MBR是针对整个硬盘而言的，而引导扇区是对单个分区而言的。每个分区的第一扇区就是引导扇区：像MBR一样，引导扇区里包含了一些引导操作系统所需要的相关信息。如果引导扇区被破坏了是个非常严重的问题，那就意味着这个分区不能被访问，安装在这个分区上的操作系统也不能被启动。所以说修复引导是使得每一个分区都能被正确识别引导。</p>
<p>##MBR分区类型（所有系统都适用）：</p>
<h4 id="主分区"><a href="#主分区" class="headerlink" title="主分区"></a>主分区</h4><p>最多只能分4个，由硬盘的结构决定（硬盘分为一个个等大小的扇区，每个扇区512字节，其中446个字节用于记录启动信息， 剩下的64个字节进行分区表示，64个字节中每16个字节表示一个分区，所以最多只能表示4个分区，故而硬盘结构如果不变，主分区最多只能分4个）。每个主分区都有各自独立的引导块，可以用fdisk设定为启动区。</p>
<p>Windows下A、B作为软分区的盘符，C作为第一个主分区的盘符，所以最多还能分23个子分区。</p>
<p>####扩展分区</p>
<p><strong>一块硬盘中扩展分区只能有一个</strong></p>
<p><strong>主分区和扩展分区总数不能超过4个</strong></p>
<p>可以将一个主分区作为扩展分区，即三个主分区，一个扩展分区，总计4个分区；</p>
<p><strong>不能直接写入数据</strong>，只能用作包含逻辑分区。</p>
<p>区分扩展分区和逻辑分区，是突破主分区只能有4个的最主要的方法。</p>
<h4 id="逻辑分区"><a href="#逻辑分区" class="headerlink" title="逻辑分区"></a>逻辑分区</h4><p>可以有多个，没有独立的引导块，不能用fdisk设定为启动区。</p>
<h2 id="设备文件名"><a href="#设备文件名" class="headerlink" title="设备文件名"></a>设备文件名</h2><p>Linux中一切皆文件，包括硬件、用户等。硬件的文件名即称作“硬件设备文件名”，硬件设备文件名作为硬件的标准称呼，是由Linux自动检测并分配的。硬件设备文件在目录中处于根目录（“/”代表根目录，最高级目录）下的dev文件夹（专用于放硬件设备文件）下，即“/dev”文件夹下。</p>
<h4 id="分区的设备文件名分配规则"><a href="#分区的设备文件名分配规则" class="headerlink" title="分区的设备文件名分配规则"></a>分区的设备文件名分配规则</h4><p>hd代表IDE接口，sd代表SCSI接口或SATA接口；<br>a代表第一块硬盘，如有多块硬盘b代表第二块硬盘，c代表第三块硬盘，以此类推；<br>1代表一块硬盘上的第一个分区，2代表此硬盘的第二个分区，3代表此硬盘第三个分区，以此类推，其中1234编号只能代表主分区或扩展分区，逻辑分区的编号从5开始分配，最大分区编号16<br>/dev/sda1 第一块SATA接口硬盘的第一个分区</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG28.jpg" alt=""></p>
<h4 id="挂载点"><a href="#挂载点" class="headerlink" title="挂载点"></a>挂载点</h4><p>Windows中使用字母标识符来指定在这个分区上的文件和目录，而Linux中使用目录作为挂载点（盘符）<br>绝大多数目录都可以作为挂载点（部分必须和根目录放在同一个分区的目录除外，否则将导致系统不能启动）包括你手工创建的目录。</p>
<p>##Linux 分区</p>
<p>####必须分区：</p>
<p>根分区 /（挂载点根目录，根目录中要保存其他所有数据，根目录如果没有硬盘空间，根下的很多数据将没有地方存放）<br>swap分区（交换分区，可理解为虚拟内存， 当真实内存不足时，可将swap分区中的硬盘空间作为内存使用，如果内存小于等于4GB，推荐swap分配内存的两倍，若内存大于4GB，建议swap空间与内存相等，不需要挂载点，swap分区不是给用户看的，是系统直接调用的所以无挂载点）</p>
<p>注：启动分区/boot需不需要创建要看实际情况，<br>需要使用LVM时，由于/boot分区不支持lvmfs，所以要单独创建，这个目录是系统文件，一般不会动，但不要太小，如果升级内核可能就满了。<br>个人使用没有必要</p>
<h4 id="使用-“fdisk”命令进行硬盘分区"><a href="#使用-“fdisk”命令进行硬盘分区" class="headerlink" title="使用 “fdisk”命令进行硬盘分区"></a>使用 “fdisk”命令进行硬盘分区</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">fdisk /dev/sdb </div><div class="line">进入sdb硬盘分区模式</div><div class="line">输入m，查看命令帮助信息</div><div class="line"></div><div class="line">新建分区</div><div class="line">输入n，给硬盘添加一个新的分区</div><div class="line">输入p，主分区</div><div class="line">输入e，扩展分区，扩展分区不能直接使用，需要添加逻辑分区</div><div class="line">输入l，扩展分区只能有一个，不能再分扩展分区了，所以显示的是逻辑分区，5代表分区的编号从5开始</div><div class="line">给分区指定编号，1-4是预留给主分区或者扩展分区的</div><div class="line">Partition number( 1-4,defautl 1):</div><div class="line">给这个分区指定扇区发起始和终止位置</div><div class="line">扇区的起始位置： First sector (2048 - 16777215，default 2048):不输入默认2048</div><div class="line">扇区的终止位置：Last sector,+sectors or +size&#123;K,M,G&#125;&#123;2048-16777215,default 16777215&#125;:3000M</div><div class="line">Command(m for help):输入p查看已经分好的区</div><div class="line">Command(m for help):输入n 继续添加分区</div><div class="line"></div><div class="line">删除分区： 输入d，随后输入删除的分区号</div><div class="line">逻辑分区是在拓展分区之内的，如果删除的拓展分区，随之而然的逻辑分区也被删除</div><div class="line"></div><div class="line">写入分区：输入w，直接就是保存并生效了；</div></pre></td></tr></table></figure>
<p><br></p>
<p>参考：</p>
<ul>
<li><a href="https://shengbao.org/691.html" target="_blank" rel="external">https://shengbao.org/691.html</a></li>
<li><a href="http://blog.51cto.com/13323775/2053921" target="_blank" rel="external">http://blog.51cto.com/13323775/2053921</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;硬件设备都是由Linux系统自动识别的，必须对硬盘进行分区、格式化、挂载后才能使用&lt;/p&gt;
&lt;p&gt;分区的意义：&lt;a href=&quot;http://www.cnblogs.com/personnel/p/4584926.html&quot; target=&quot;_blank&quot; rel=&quot;ext
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 虚拟机网络配置详解(NAT、桥接、Hostonly)</title>
    <link href="http://yoursite.com/2018/05/04/Linux-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3-NAT%E3%80%81%E6%A1%A5%E6%8E%A5%E3%80%81Hostonly/"/>
    <id>http://yoursite.com/2018/05/04/Linux-虚拟机网络配置详解-NAT、桥接、Hostonly/</id>
    <published>2018-05-04T08:56:23.000Z</published>
    <updated>2018-05-04T12:24:16.820Z</updated>
    
    <content type="html"><![CDATA[<p>无论是vmware还是virtual box虚拟机软件，一般来说，虚拟机有三种网络模式:</p>
<ol>
<li>Bridged Adapter（桥接模式）</li>
<li>NAT（网络地址转换模式）</li>
<li>Host-only Adapter（主机模式）</li>
</ol>
<p>virtual box中还有lInternal</p>
<p>虚拟网卡在虚拟机安装好之后，会自动添加两张网卡(VMnet1和VMnet8)，VMnet1用Host-only网络连接，VMnet8用NAT方式的网络连接，原先的VMnet0用桥接网络连接。</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG23.png" alt=""></p>
<h2 id="桥接"><a href="#桥接" class="headerlink" title="桥接"></a>桥接</h2><p>桥接网络是指宿主物理网卡和虚拟网卡通过VMnet0虚拟交换机进行桥接，物理网卡和虚拟网卡在拓扑图上处于<strong>同等地位</strong>，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机，所以两个网卡的IP地址也要设置为同一网段。会占用内网IP</p>
<p>vmnet0实际上就是一个虚拟的网桥(2层交换机)，这个网桥有若干个接口，一个端口用于连接你的Host主机，其余端口可以用于连接虚拟机，他们的位置是对等的，谁也不是谁的网关。<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG24.png" alt=""></p>
<p>主机A上的两个虚拟机1和虚拟机2，和主机A、B同处于一个网段，能够相互通信<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG25.png" alt=""></p>
<p>虚拟机网卡配置，虚拟机上网需要IP/子网掩码/DNS/网关</p>
<pre><code>DEVICE=&quot;eth0&quot;
BOOTPROTO=“static&quot; #设置静态ip,动态为dhcp
IPADDR=&quot;192.168.1.3&quot;
GATEWAY=&quot;192.168.1.1&quot;
HWADDR=&quot;08:00:27:C7:1B:22&quot;
DNS1=&quot;8.8.8.8&quot;
NETMASK=&quot;255.255.255.0&quot;
ONBOOT=&quot;yes&quot;
</code></pre><p>CentOS 7中ONBOOT默认为NO，需要打开</p>
<h4 id="应用场景："><a href="#应用场景：" class="headerlink" title="应用场景："></a>应用场景：</h4><p>虚拟机要求可以上网，且虚拟机完全模拟一台实体机</p>
<p><br></p>
<h2 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h2><p>NAT模式中，就是让虚拟机借助NAT(网络地址转换)功能，通过宿主机器所在的网络来访问公网。宿主能够联网，虚拟机也能联网(其他主机)。宿主没有联网，虚拟机也不能联网</p>
<p>vmnet1也是一个虚拟的交换机，交换机的一个 端口连接到你的Host上，另外一个端口连接到虚拟的DHCP服务器上（实际上是vmware的一个组件），另外剩下的端口就是连虚拟机了，主机A和虚拟机1和2能相互通信，虚拟机1和2能访问主机B和外网，主机B不能访问虚拟机1和2，虚拟机1和2能相互通信<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG27.png" alt=""></p>
<p>虚拟机的配置:</p>
<pre><code>DEVICE=&quot;eth0&quot;
BOOTPROTO=“static&quot; #设置静态ip,动态为dhcp
IPADDR=&quot;10.0.2.5&quot;
GATEWAY=&quot;10.0.2.1&quot;
HWADDR=&quot;08:00:27:C7:1B:22&quot;
DNS1=&quot;10.0.2.1&quot;
NETMASK=&quot;255.255.255.0&quot;
ONBOOT=&quot;yes&quot;
</code></pre><h4 id="应用场景：-1"><a href="#应用场景：-1" class="headerlink" title="应用场景："></a>应用场景：</h4><p>虚拟机只要求可以上网，无其它特殊要求，满足最一般需求</p>
<p><br></p>
<h2 id="Host-Only"><a href="#Host-Only" class="headerlink" title="Host-Only"></a>Host-Only</h2><p><strong>所有的虚拟系统是可以相互通信的，但虚拟系统和真实的网络是被隔离开的</strong></p>
<p>虚拟系统和宿主机器系统是可以相互通信的。<br>虚拟系统的TCP/IP配置信息(如IP地址、网关地址、DNS服务器等)，都是由VMnet1(host-only)虚拟网络的DHCP服务器来动态分配的。</p>
<p>主机和虚拟机之间的通信是通过 VMnet1虚拟网卡来实现的。虚拟机连接到VMnet1上，系统并不为其提供任何路由服务，因此虚拟机只能和宿主机进行通信，而不能连接到真正的网络上。</p>
<p>Host-Only的宗旨就是建立一个与外界隔绝的内部网络，来提高内网的安全性。这个功能或许对普通用户来说没有多大意义，但大型服务商会常常利用这个功能。如果你想为VMnet1网段提供路由功能，那就需要使用RRAS，而不能使用XP或2000的ICS，因为ICS会把内网的IP地址改为192.168.0.1，但虚拟机是不会给VMnet1虚拟网卡分配这个地址的，那么主机和虚拟机之间就不能通信了。</p>
<p>虚拟机1和2之间可以相互通信，主机A能和虚拟机1和2通信，虚拟机1和2不能和主机通信(需要设置)，虚拟机不能和B主机以及外网通信<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG26.png" alt=""></p>
<h4 id="使用范围"><a href="#使用范围" class="headerlink" title="使用范围"></a>使用范围</h4><p>如果你想利用VMWare创建一个与网内其他机器相隔离的虚拟系统，进行某些特殊的网络调试工作，可以选择host-only模式。</p>
<p><br></p>
<h2 id="内网模式"><a href="#内网模式" class="headerlink" title="内网模式"></a>内网模式</h2><p>内网模式，顾名思义就是内部网络模式：虚拟机与外网完全断开，只实现虚拟机于虚拟机之间的内部网络模式。</p>
<p>虚拟机与主机的关系：不能相互访问，彼此不属于同一个网络，无法相互访问。<br>虚拟机与网络中其他主机的关系：不能相互访问，理由同上。<br>虚拟机与虚拟机的关系：可以相互访问，前提是在设置网络时，两台虚拟机设置同一网络名称。如上配置图中，名称为intnet。</p>
<p>参考：</p>
<ul>
<li><a href="http://www.cnblogs.com/ggjucheng/archive/2012/08/19/2646007.html" target="_blank" rel="external">http://www.cnblogs.com/ggjucheng/archive/2012/08/19/2646007.html</a></li>
<li><a href="https://www.jianshu.com/p/305f7384cfe9" target="_blank" rel="external">https://www.jianshu.com/p/305f7384cfe9</a></li>
<li><a href="https://blog.csdn.net/bytxl/article/details/35569217" target="_blank" rel="external">https://blog.csdn.net/bytxl/article/details/35569217</a></li>
<li><a href="https://blog.csdn.net/clevercode/article/details/45934233" target="_blank" rel="external">https://blog.csdn.net/clevercode/article/details/45934233</a></li>
<li><a href="http://blog.51cto.com/wangchunhai/381225" target="_blank" rel="external">http://blog.51cto.com/wangchunhai/381225</a></li>
<li><a href="https://github.com/waltcow/blog/issues/21" target="_blank" rel="external">https://github.com/waltcow/blog/issues/21</a></li>
<li><a href="https://blog.csdn.net/guizaijianchic/article/details/72190394" target="_blank" rel="external">https://blog.csdn.net/guizaijianchic/article/details/72190394</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;无论是vmware还是virtual box虚拟机软件，一般来说，虚拟机有三种网络模式:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Bridged Adapter（桥接模式）&lt;/li&gt;
&lt;li&gt;NAT（网络地址转换模式）&lt;/li&gt;
&lt;li&gt;Host-only Adapter（主机模式）&lt;/
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 安装ssh</title>
    <link href="http://yoursite.com/2018/05/02/Linux-%E5%AE%89%E8%A3%85ssh/"/>
    <id>http://yoursite.com/2018/05/02/Linux-安装ssh/</id>
    <published>2018-05-02T10:46:32.000Z</published>
    <updated>2018-05-06T06:02:41.235Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简易版"><a href="#简易版" class="headerlink" title="简易版"></a>简易版</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">#查看ssh服务是否开启</div><div class="line">ps -e |grep ssh</div><div class="line"></div><div class="line">#安装ssh服务</div><div class="line">sudo apt install openssh-server</div><div class="line"></div><div class="line">#配置ssh</div><div class="line">sudo vi /etc/ssh/sshd_config</div><div class="line">#PermitRootLogin，RSAAuthentication，PubkeyAuthentication的设置打开</div><div class="line"></div><div class="line">#开启ssh服务</div><div class="line">sudo systemctl restart sshd.service</div><div class="line">#开机启动SSH服务</div><div class="line">sudo systemctl enable sshd.service</div><div class="line"></div><div class="line">#连接</div><div class="line">ssh -p 22 userName@192.168.1.100</div></pre></td></tr></table></figure>
<h2 id="复杂版"><a href="#复杂版" class="headerlink" title="复杂版"></a>复杂版</h2><p>参考<a href="https://wiki.centos.org/HowTos/Network/SecuringSSH" target="_blank" rel="external">https://wiki.centos.org/HowTos/Network/SecuringSSH</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --reload</div><div class="line">#重新载入防火墙设定</div></pre></td></tr></table></figure></p>
<h2 id="设置SSH免密码登录"><a href="#设置SSH免密码登录" class="headerlink" title="设置SSH免密码登录"></a>设置SSH免密码登录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa</div><div class="line"># ～/.ssh目录中创建两个名为id_rsa和id_rsa.pub的文件，id_rsa是私钥，id_rsa.pub是公钥</div><div class="line"></div><div class="line">#设置权限</div><div class="line">chmod 700〜/ .ssh</div><div class="line">chmod 600〜/ .ssh / id_rsa </div><div class="line"></div><div class="line"># 复制公钥到服务器然后写入到~/.ssh/authorized_keys 方法一</div><div class="line"># 使用SSH远程登陆到服务器,发现家目录中还没有.ssh目录,使用mkdir创建</div><div class="line">mkdir .ssh</div><div class="line"># 发送公钥</div><div class="line">scp -P 端口号 ./id_rsa.pub alice@192.168.0.10:/home/alice/.ssh</div><div class="line"># 将公钥追加写入~/.ssh/authorized_keys中,若authorized_keys不存在,则会创建并写入</div><div class="line">cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</div><div class="line">#修改authorized_keys的权限为600,并删除公钥文件</div><div class="line">rm id_rsa.pub</div><div class="line"></div><div class="line"># 复制公钥到服务器然后写入到~/.ssh/authorized_keys 方法二</div><div class="line"># ssh-copy-id 命令可以把本地主机的公钥复制到远程主机的 authorized_keys 文件上</div><div class="line">ssh-copy-id -i ~/.ssh/id_rsa.pub user@server</div><div class="line">chmod 700 ~/.ssh </div><div class="line">chmod 600 ~/.ssh/authorized_keys</div></pre></td></tr></table></figure>
<h2 id="清除SSH的私钥密码"><a href="#清除SSH的私钥密码" class="headerlink" title="清除SSH的私钥密码"></a>清除SSH的私钥密码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -p</div><div class="line"># 选择需要修改的私钥，默认是/home/username/.ssh/id_rsa。</div><div class="line"># 选好文件后按回车，会提示你输入旧密码。</div><div class="line">#输入好后会提示输入新密码。</div><div class="line">#直接回车，提示确认新密码再直接回车，此时指定的私钥的密码就被清除了</div></pre></td></tr></table></figure>
<p>SSH相关命令参考 <a href="http://fengrenxiaoli.github.io/2018/05/01/Linux%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/" target="_blank" rel="external">Linux网络管理 远程登录</a></p>
<p>参考：</p>
<ul>
<li><a href="https://wiki.centos.org/HowTos/Network/SecuringSSH" target="_blank" rel="external">https://wiki.centos.org/HowTos/Network/SecuringSSH</a></li>
<li><a href="http://www.iosugar.com/2017/02/14/CentOS-remote-login-SSH-configuration/#SSH%E7%99%BB%E9%99%86" target="_blank" rel="external">http://www.iosugar.com/2017/02/14/CentOS-remote-login-SSH-configuration/#SSH%E7%99%BB%E9%99%86</a></li>
<li><a href="http://einverne.github.io/post/2016/06/ssh-copy-id.html" target="_blank" rel="external">http://einverne.github.io/post/2016/06/ssh-copy-id.html</a></li>
<li><a href="https://www.ssh.com/ssh/copy-id" target="_blank" rel="external">https://www.ssh.com/ssh/copy-id</a></li>
<li><a href="https://linux.cn/article-6901-1.html" target="_blank" rel="external">https://linux.cn/article-6901-1.html</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简易版&quot;&gt;&lt;a href=&quot;#简易版&quot; class=&quot;headerlink&quot; title=&quot;简易版&quot;&gt;&lt;/a&gt;简易版&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;d
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux网络管理 网络基础</title>
    <link href="http://yoursite.com/2018/05/01/Linux%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"/>
    <id>http://yoursite.com/2018/05/01/Linux网络管理-网络基础/</id>
    <published>2018-05-01T11:06:32.000Z</published>
    <updated>2018-05-05T17:47:03.564Z</updated>
    
    <content type="html"><![CDATA[<h3 id="OSI模型"><a href="#OSI模型" class="headerlink" title="OSI模型"></a>OSI模型</h3><p>开放系统互联模型，由ISO(国际标准化组织) 组织开发的</p>
<p>该模型为基础模型, 而实际中常用的TCP/IP模型是由七层模型演变的</p>
<p>上三层(应用层、表示层、会话层)是对用户提供服务, 下四层(传输层、网络层、数据链路层、物理层)对数据传输提供服务</p>
<table>
<thead>
<tr>
<th>层级</th>
<th>作用</th>
<th>传输单元</th>
</tr>
</thead>
<tbody>
<tr>
<td>应用层</td>
<td>用户接口</td>
<td>APDU，应用协议数据单元</td>
</tr>
<tr>
<td>表示层</td>
<td>数据的表现形式（ASCII、GB2312、jpg）、 特定功能的实现如加密、压缩</td>
<td>PPDU，表示协议数据单元</td>
</tr>
<tr>
<td>会话层</td>
<td>对应用会话的管理、同步。 确定网络数据是否要经过远程会话</td>
<td>SPDU，会话协议数据单元</td>
</tr>
<tr>
<td>传输层</td>
<td>确定可靠与不可靠的传输（ TCP传输控制协议可靠不会丢、UDP用户数据报协议更快但可能会丢）、传输前的错误检测、 流量控制、 确立端口号, 便于通过IP确定主机后, 通过端口确定交互的服务</td>
<td>TPDU，传输协议数据单元</td>
</tr>
<tr>
<td>网络层</td>
<td>负责提供逻辑地址(IP地址, 需要写入发件人IP与收件人IP）、 选择通路。 （确定IP地址，原IP、目地IP）</td>
<td>报文</td>
</tr>
<tr>
<td>数据链路层</td>
<td>负责组成帧(组入MAC信息)，用MAC地址访问媒介（源地址&amp;目的地址）、错误的检测与修正。物理地址，就是计算机MAC地址，也就是计算机网卡地址。每一台电脑都有一个网卡地址，MAC地址负责局域网通信，IP地址负责外网通信。</td>
<td>帧</td>
</tr>
<tr>
<td>物理层</td>
<td>设备之间比特流的传输（ 最基本的数据传递）、物理接口（ 网线口、视频口、音频口）、电气特性（ 网线8根线中的1、3、2、6四根线传输数据）</td>
<td>比特流</td>
</tr>
</tbody>
</table>
<p>举例场景 用户A需要给用户B发送一份邮件</p>
<ol>
<li>应用层 : 浏览器进入邮箱, 写邮件, 点击发送, 数据将传递至 表示层</li>
<li>表示层 : 进行的数据的编码, 而后数据传递至会话层</li>
<li>会话层 : 判断数据的发送类型, 是进行网络传输还是进行本地保存, 若是进行传输 传递至传输层</li>
<li>传输层 : 确立协议TCP或UDP, 写入邮件的发送及目标端口号, 传递至网络层</li>
<li>网络层 : 写入自身及目标IP地址, 传递至数据链路层</li>
<li>数据链路层 : 写入源MAC地址与目标MAC地址, 由于IP地址找到局域网, 再通过MAC地址在局域网中找到目标, 传递至物理层</li>
<li>物理层 : 数据传输</li>
</ol>
<p><br></p>
<h3 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h3><h4 id="TCP-IP-四层模型与-OSI-七层模型对应关系"><a href="#TCP-IP-四层模型与-OSI-七层模型对应关系" class="headerlink" title="TCP/IP 四层模型与 OSI 七层模型对应关系"></a>TCP/IP 四层模型与 OSI 七层模型对应关系</h4><ul>
<li>应用层 : 应用层、表示层、会话层<br>为用户提供所需的各种服务, 例如 <strong>FTP</strong>、<strong>Telnet</strong>、<strong>DNS</strong>、<strong>SMTP</strong>等</li>
</ul>
<ul>
<li>传输层 : 传输层<br>负责为应用层实体提供端到端的通信功能, 保证了数据包的顺序传送及数据的完整性, 该层定义了两个主要的协议 : 传输控制协议(<strong>TCP</strong>)可靠的面向连接，不会丢失，类似打电话，网页、邮件 和  用户数据报协议(<strong>UDP</strong>)不可靠的面向无连接,有可能丢失, 类似发短信、QQ</li>
</ul>
<ul>
<li>网际互联层 : 网络层<br>主要解决主机到主机的通信问题, 它所包含的协议涉及数据包在整个网络上的逻辑传输, 该层有三个主要协议 : 网际协议(<strong>IP</strong>), 互联网组管理协议(<strong>IGMP</strong>), 互联网控制报文协议(<strong>ICMP</strong>)</li>
</ul>
<ul>
<li>网络接口层 : 数据链路层、物理层<br>负责监视数据在主机和网络之间的交换, 事实上, TCP/IP本身并未定义该层的协议, 而由参与互连的各网络使用自己的物理层和数据链路层协议, 然后与TCP/IP的网络接入层进行连接. 地址解析协议(<strong>ARP</strong>) 工作在此层, 即OSI参考模型的数据链路层.<br>地址解析协议(ARP) : 将IP地址 翻译成物理地址</li>
</ul>
<h4 id="数据封装过程"><a href="#数据封装过程" class="headerlink" title="数据封装过程"></a>数据封装过程</h4><p>发送是由上至下进行打包, 接收是由下至上进行拆包<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG10.jpg" alt=""></p>
<h4 id="TCP-IP-模型与OSI-模型的比较"><a href="#TCP-IP-模型与OSI-模型的比较" class="headerlink" title="TCP/IP  模型与OSI 模型的比较"></a>TCP/IP  模型与OSI 模型的比较</h4><p>共同点</p>
<ol>
<li>OSI 参考模型和 TCP/IP参考模型都采用了层次结构的概念</li>
<li>都能够提供面向连接和无连接两种通信服务机制</li>
</ol>
<p>不同点</p>
<ol>
<li>OSI 七层, TCP/IP 四层</li>
<li>对可靠性要求不同(TCP/IP 更高)</li>
<li>OSI 模型是在协议开发前设计的, 具有通用性. TCP/IP 是先有协议集, 然后建立模型, 不适用与非TCP/IP网络</li>
<li>实际市场应用不同( OSI 模型只是理论上的模型, 并没有成熟的产品, 而TCP/IP已经成为”实际上的国际标准”)</li>
</ol>
<p><br></p>
<h3 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h3><h4 id="IP包头-如图"><a href="#IP包头-如图" class="headerlink" title="IP包头(如图)"></a>IP包头(如图)</h4><p>横32位, 竖5行, 固定的共160位, 20字节, 另外有其他选项存在, 导致包头不固定, 因此每接收到包头, 需要进行检测包头长度才能够取出包头, 也是为何IPv4没有IPv6快的原因</p>
<p>包头中包含的IP地址只有32位, 即2的32次幂, 42亿9千万左右的IP</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG11.jpg" alt=""></p>
<h4 id="IP地址分类"><a href="#IP地址分类" class="headerlink" title="IP地址分类"></a>IP地址分类</h4><p>IP分为A、B、C、D、E 五大类, 其中DE不对民用组织开放, 不可使用, 因此有效类只有ABC<br>可根据第一位数值判断类别, 1-126 为A类, 128-172 为B类, 192-223 为C类</p>
<p>127.0.0.1 为本机</p>
<p> 第一位表示不同网段, 不同网络, 不同网络之间的通信需要使用路由器，路由器是用来实现跨网络通信的, 同一网络下通信使用交换机即可. 第一位不变情况下, 后三位的变化都代表同一网络下的不同主机</p>
<ol>
<li>A 类 : 每个网络中的第一个地址(X.0.0.0)代表网络本身,最后一个地址(X.255.255.255)代表当前网络的广播地址, 不能分配, 最大主机数 : 后三位的次幂, 减 第一和最后一个 , 2^24 -2</li>
<li>B 类 : 前两位代表网段, 后两位代表网段中的不同主机</li>
<li>C 类 : 前三位代表网段, 最后一位代表不同主机</li>
</ol>
<p>私有IP :  不需要花钱买, 用来做内网IP, 可有效保护公网IP, 不能直接访问公网, 需要与公网之间进行转换才可访问互联网</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG12.jpg" alt=""></p>
<p><br></p>
<h3 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h3><p>ABC类可以用不同的网段个数和主机个数, 是由子网掩码决定<br>子网掩码用连续1的表示，例如255.0.0.0，255.255.0.0，255。255.255.255.0</p>
<p>子网掩码的作用：用来区分不同网段的IP—-子网掩码与IP相与，得到的结果相同则在同一网段。否则不在，需要经过路由器转发。</p>
<p>合理的子网掩码 : 所有的1必须连续, A 类地址可匹配B类子网掩码</p>
<p>IP和子网掩码必须一起配合使用。<br>网络号=IP&amp;&amp;子网掩码</p>
<p>广播地址：主机号全为1,广播地址是专门用于同时向网络中所有工作站进行发送的一个地址</p>
<p>合理的子网掩码 : 所有的1必须连续, A 类地址可匹配B类子网掩码</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG13.jpg" alt=""></p>
<p><br></p>
<h3 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h3><p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG14.jpg" alt=""><br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG15.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">netstat -an</div><div class="line"># 查看本机启用的端口</div><div class="line">#-a:查看所有连接和监听端口</div><div class="line">#-n:显示IP地址和端口号，而不显示域名和服务名</div></pre></td></tr></table></figure>
<p>TCP因为3次握手的机制所以需要监听，而UDP不需要监听</p>
<h4 id="常见端口号"><a href="#常见端口号" class="headerlink" title="常见端口号"></a>常见端口号</h4><ul>
<li>FTP（文件传输协议）：20、21；</li>
<li>SSH（安全shell协议）：22；</li>
<li>telnet（远程登录协议）：23；</li>
<li>DNS（域名系统）：53；</li>
<li>http（超文本传输协议）：80；</li>
<li>SMTP（简单邮件传输协议）：25；</li>
<li>POP3（邮局协议）：110；</li>
</ul>
<p><br></p>
<h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><h4 id="hosts和DNS"><a href="#hosts和DNS" class="headerlink" title="hosts和DNS"></a>hosts和DNS</h4><p>hosts文件：做静态IP和域名对应，优先于DNS.<br>位置：<br>C：\Windows\System32\drivers\etc\hosts<br>hosts文件只可做临时解析用，名称解析效能下降，主机维护困难</p>
<p>DNS全称为——&gt;domain name system——&gt;域名系统</p>
<ul>
<li>不配置DNS是不能联网的。</li>
<li>在互联网中，通过IP地址来进行通信。</li>
<li>IP地址是用数字来表示的，记忆起来太困难了(如116.213.120.232)</li>
<li>人对域名更加敏感，:<a href="http://www.imooc.com/" target="_blank" rel="external">http://www.imooc.com/</a></li>
</ul>
<p>DNS服务的作用:将域名解析为IP地址<br>过程：客户机向DNS服务器发送查询IP请求<br>DNS服务器查询到web服务器的ip，告知用户<br>用户访问web服务器</p>
<h4 id="域名空间结构"><a href="#域名空间结构" class="headerlink" title="域名空间结构"></a>域名空间结构</h4><p>根域：.（13台服务器）<br>——&gt;顶级域/一级域：包括组织域和地区域<br>（组织域：gov政府/edu教育部门/com商业部门/org民间团体/net网络服务机构/mil军事部门 地区域：cn 中国 hk 香港 jp 日本 Uk 英国 au 澳大利亚）<br>——&gt;二级域：企业或个人自行购买的（imooc /microsoft/ibm/sina）<br>——&gt;主机名/3级域：申请完二级域后自己定义的（www/news）</p>
<p>三级域（www）+二级域（baidu）+顶级域（.com）组成完整域名空间</p>
<p>为什么要进行域名分级划分<br>便于IP地址解析</p>
<h4 id="DNS查询过程"><a href="#DNS查询过程" class="headerlink" title="DNS查询过程"></a>DNS查询过程</h4><p>DNS客户机——&gt;本地域名服务器——&gt;根DNS服务器——&gt;cn服务器——&gt;com.cn服务器——&gt;imooc.com.cn——&gt;本地域名服务器——&gt;DNS客户机——&gt;web服务器www.imooc.com.cn</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG16.PNG" alt=""></p>
<h4 id="DNS查询类型"><a href="#DNS查询类型" class="headerlink" title="DNS查询类型"></a>DNS查询类型</h4><p>从查询方式上分</p>
<ul>
<li>递归查询：客户机将请求发送给DNS服务器，服务器通过缓存或者询问其他服务器最后将一个准确的结果或者失败回复给客户机，客户机只负责问，所有事情都是服务器做。客户机对本地域名服务器查询的机制，必须反馈准确值（要么成功要么失败）</li>
<li>迭代查询：客户机像DNS服务器发送请求后，服务器向客户机返回另一个服务器的地址，客户机不停地向不同DNS服务器发送请求，所有事情都自己做。本地域名服务器分别对各级域名服务器的查询机制，不一定反馈准确值</li>
</ul>
<p>从查询内容上分</p>
<ul>
<li>正向：域名到IP ARP </li>
<li>反向：IP到域名 RARP</li>
</ul>
<p><br></p>
<h3 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h3><ul>
<li>网关（Gateway）又称网间连接器、协议转换器</li>
<li>网关在网络层以上实现网络互连，是最复杂的网络互连设备，仅用于两个高层不同的网络互连</li>
<li>网关既可以用于广域网互连，也可以用于局域网互连</li>
<li>网关是一种充当转换重任的服务器或路由器</li>
<li>交换机不能识别ip，只能记录客户机的MAC地址。即只能在局域网中进行通信</li>
<li>访问不同网段，则需要引入网关。</li>
<li>网关：一个具有路由功能的设备，一般为路由器。</li>
</ul>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG17.jpg" alt=""></p>
<h4 id="网关作用"><a href="#网关作用" class="headerlink" title="网关作用"></a>网关作用</h4><ul>
<li>网关在所有内网计算机访问的不是本网段的数据包时使用</li>
<li>把内网Ip转公网Ip，公网Ip转内网Ip</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;OSI模型&quot;&gt;&lt;a href=&quot;#OSI模型&quot; class=&quot;headerlink&quot; title=&quot;OSI模型&quot;&gt;&lt;/a&gt;OSI模型&lt;/h3&gt;&lt;p&gt;开放系统互联模型，由ISO(国际标准化组织) 组织开发的&lt;/p&gt;
&lt;p&gt;该模型为基础模型, 而实际中常用的TCP/I
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux网络管理 远程登录</title>
    <link href="http://yoursite.com/2018/05/01/Linux%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/"/>
    <id>http://yoursite.com/2018/05/01/Linux网络管理-远程登录/</id>
    <published>2018-05-01T11:03:54.000Z</published>
    <updated>2018-05-06T06:01:42.950Z</updated>
    
    <content type="html"><![CDATA[<p>参考  <a href="http://fengrenxiaoli.github.io/2018/05/02/Linux-%E5%AE%89%E8%A3%85ssh/" target="_blank" rel="external">Linux 安装ssh</a></p>
<h2 id="SSH协议原理"><a href="#SSH协议原理" class="headerlink" title="SSH协议原理"></a>SSH协议原理</h2><h4 id="对称加密算法"><a href="#对称加密算法" class="headerlink" title="对称加密算法"></a>对称加密算法</h4><p>采用单钥密码系统的加密方法, 同一个秘钥可以同时用作信息的加密和解密, 这种加密方法称为对称加密, 也称为单秘钥加密.</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG22.png" alt=""></p>
<p>缺点 : 加密解密使用相同密码, 需要告知对方密码, 等同于将自身多方习惯密码告知对方. 例如邮箱等密码, 造成威胁</p>
<h4 id="非对称加密算法"><a href="#非对称加密算法" class="headerlink" title="非对称加密算法"></a>非对称加密算法</h4><p>asymmetric cryptographic algorithm，又名 “公开秘钥加密算法” ,  需要公开秘钥(publickey) 和私有秘钥(privatekey)<br>linux 中为 gpg工具, windows 中为 pgp工具</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG21.jpg" alt=""></p>
<p>过程原理, A 需要发送数据包给 B</p>
<ol>
<li>A 根据自己密码A 生成 公钥A 和私钥A</li>
<li>B 根据自己密码B 生成 公钥B 和私钥B</li>
<li>A 向 B 寻要 公钥B, 再结合自身的公钥A 对数据包进行加密, 并发送给B</li>
<li>B 收到数据包之后, 可根据自身密码B 和 私钥B 对数据包进行解密且成功</li>
<li>此时, A 也可以根据自身密码A 结合 私钥A 对已加密的数据包进行解密</li>
<li>至此, 避免了泄露 A 自身的密码</li>
</ol>
<h4 id="SSH安全外壳协议"><a href="#SSH安全外壳协议" class="headerlink" title="SSH安全外壳协议"></a>SSH安全外壳协议</h4><p>在非对称加密算法之上演变而来<br>密码足够复杂强壮可降低暴力破解的成功性<br>SSH 保护数据传递过程中的安全, 但若在传递之前中病毒则不可避免<br>通用的远程管理协议</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG23.jpg" alt=""></p>
<p>过程原理, A 需要发送数据包给 B</p>
<ol>
<li>A 持有 公钥A 和 私钥A</li>
<li>B 持有 公钥B 和 私钥B</li>
<li>A 向 B 寻要 公钥B, 再结合自身的 公钥A 对数据包进行加密, 并发送给B</li>
<li>B 收到数据包之后, 可根据自身 私钥B 对数据包进行解密</li>
</ol>
<h4 id="SSH-命令"><a href="#SSH-命令" class="headerlink" title="SSH 命令"></a>SSH 命令</h4><pre><code>ssh 用户名@ip
# 远程管理制定Linux服务器
# 经过远程之后, 在家目录中的 .ssh 文件夹 know_hosts文件中保存着 连接成功的目标信息
# 地址 加密算法 公钥
#若目计算机进行了重装系统, 或地址被另一台机器占用, 此时 已下载的公钥无法使用, 使用vi 对改行进行删除, 当再次连接时, 会再次提示是否进行下载公钥


scp [-r] 用户名@ip:文件路径 本地路径
# 网络复制命令, 下载文件 或加-r 下载文件夹

scp [-r] 本地文件 用户名@ip:上传路径
# 网络复制命令, 上传文件 或加-r 上传文件夹
# 此为linux 与 linux之间进行文件传输的最简单方式
</code></pre><h2 id="远程管理工具"><a href="#远程管理工具" class="headerlink" title="远程管理工具"></a>远程管理工具</h2><p>SecureCRT、Xshell</p>
<p>WinSCP文件传输工具</p>
<p>FileZilla</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;参考  &lt;a href=&quot;http://fengrenxiaoli.github.io/2018/05/02/Linux-%E5%AE%89%E8%A3%85ssh/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Linux 安装ssh&lt;/a&gt;&lt;/p&gt;
&lt;
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
</feed>
