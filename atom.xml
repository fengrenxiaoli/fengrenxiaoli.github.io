<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>太阳落下</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-05-05T03:11:59.409Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>木鱼</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Linux 专题导航</title>
    <link href="http://yoursite.com/2018/06/05/Linux-%E4%B8%93%E9%A2%98%E5%AF%BC%E8%88%AA/"/>
    <id>http://yoursite.com/2018/06/05/Linux-专题导航/</id>
    <published>2018-06-05T03:09:32.000Z</published>
    <updated>2018-05-05T03:11:59.409Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h2><h2 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h2><h2 id="软件管理"><a href="#软件管理" class="headerlink" title="软件管理"></a>软件管理</h2><h2 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h2><h2 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h2><h2 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文件管理&quot;&gt;&lt;a href=&quot;#文件管理&quot; class=&quot;headerlink&quot; title=&quot;文件管理&quot;&gt;&lt;/a&gt;文件管理&lt;/h2&gt;&lt;h2 id=&quot;权限管理&quot;&gt;&lt;a href=&quot;#权限管理&quot; class=&quot;headerlink&quot; title=&quot;权限管理&quot;&gt;&lt;/a
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux用户管理 查看用户</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86-%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7/"/>
    <id>http://yoursite.com/2018/05/06/Linux用户管理-查看用户/</id>
    <published>2018-05-06T11:56:06.000Z</published>
    <updated>2018-05-06T12:21:32.128Z</updated>
    
    <content type="html"><![CDATA[<h3 id="查看用户"><a href="#查看用户" class="headerlink" title="查看用户"></a>查看用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">w：查看登录用户信息</div><div class="line">w 用户名</div><div class="line">user:登陆的用户名</div><div class="line">tty:登陆终端</div><div class="line">from:从哪个IP地址登陆</div><div class="line">login@:登陆时间</div><div class="line">idle:用户闲置时间</div><div class="line">jcpu:和终端连接所有进程占用的时间</div><div class="line">pcpu:当前进程所占用的时间</div><div class="line">what:正在运行的命令</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">who：查看登录用户信息</div><div class="line">who 用户名</div><div class="line">登录名</div><div class="line">登陆终端</div><div class="line">登录时间（登陆来源IP地址）</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">last：查询当前和过去登录的用户信息</div><div class="line">last  默认读取var/log/wtmp</div><div class="line">用户名</div><div class="line">登录终端</div><div class="line">登陆IP</div><div class="line">登录时间</div><div class="line">退出时间（在线时间）</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">lastlog：查看所有用户最后一次登录信息</div><div class="line">lastlog </div><div class="line">lastlog命令默认是读取/var/log/lastlog文件内容</div><div class="line">用户名</div><div class="line">登录终端</div><div class="line">登陆ip</div><div class="line">最后一次登陆时间</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">whoami				#显示当前登录用户名</div><div class="line">id 用户名			#显示指定用户信息，包括用户编号、用户编号、主要组编号及名称、附属组列表</div><div class="line">groups 用户名 		#显示用户所在的所有组，包括主要组和附属组</div><div class="line">chfn 用户名 		#设置用户资料，依次输入用户资料</div><div class="line">finger 用户名 		#显示用户详细资料，与chfn对应</div></pre></td></tr></table></figure>
<p>###切换用户<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">su 用户名 				#切换到其他用户下</div><div class="line">su 					</div><div class="line">#后面什么也不接表示切换到root用户下</div><div class="line">#普通用户进其他用户需要密码，root用户进普通用户不需要密码</div></pre></td></tr></table></figure></p>
<h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">touch /etc/nologin					#在etc目录下创建一个nologin文件(文件内容无关紧要)，暂时禁止除管理员外的用户登录</div><div class="line">passwd -l user1						#锁定账户</div><div class="line">passwd -u user1						#解锁账户</div><div class="line">passwd -d user1						#清除用户密码，无密码登录</div><div class="line"></div><div class="line">wall [想说的话] 相当于喇叭广播的功能</div><div class="line">talk [用户名] 聊天框里聊天</div><div class="line">write [用户名] 相当于密聊</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;查看用户&quot;&gt;&lt;a href=&quot;#查看用户&quot; class=&quot;headerlink&quot; title=&quot;查看用户&quot;&gt;&lt;/a&gt;查看用户&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux用户管理 新增/修改/删除用户</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86-%E6%96%B0%E5%A2%9E-%E4%BF%AE%E6%94%B9-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7/"/>
    <id>http://yoursite.com/2018/05/06/Linux用户管理-新增-修改-删除用户/</id>
    <published>2018-05-06T11:55:37.000Z</published>
    <updated>2018-05-06T12:00:27.594Z</updated>
    
    <content type="html"><![CDATA[<h2 id="用户基本命令"><a href="#用户基本命令" class="headerlink" title="用户基本命令"></a>用户基本命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">useradd 用户名					#添加用户，所在用户组与用户名同名</div><div class="line">useradd -g 组名 用户名			#添加用户，指定其所在的组</div><div class="line">useradd -d 目录 用户名 			#添加用户，制定其用户的家目录，没有指定所在组时，默认用户名就为用户组名</div><div class="line">#passwd 用户名					#新建的用户需要设置密码，设置用户目录</div><div class="line"></div><div class="line">usermod -c 注释信息 用户名 	  #为指定用户名添加注释</div><div class="line">usermod -l 新用户名 旧用户名 		#更改用户名</div><div class="line">usermod -d 目录 用户名 			#更改用户个人文件夹的路径</div><div class="line">usermod -g 新用户组 用户名 	#更改指定用户的所属组</div><div class="line">userdel 用户名 				#删除用户，但是不删除用户个人文件夹里的文件</div><div class="line">userdel -r 用户名 				#删除用户并且删除用户个人文件夹里的文件</div></pre></td></tr></table></figure>
<h2 id="用户组基本命令"><a href="#用户组基本命令" class="headerlink" title="用户组基本命令"></a>用户组基本命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">groupadd 组名 				#创建用户组</div><div class="line">groupadd -g 组编号 组名 			#创建用户组并指定组编号</div><div class="line">groupmod -n 新组名 原组名 		#更改用户组名称</div><div class="line">groupmod -g 组编号 组名 			#设置用户组编号</div><div class="line">groupdel 组名 					#删除用户组，前提是用户组内没有用户</div></pre></td></tr></table></figure>
<h2 id="附属组"><a href="#附属组" class="headerlink" title="附属组"></a>附属组</h2><p>用户可以同时属于多个组，一个是主要组，其他的为附属组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">gpasswd -a 用户名 附属组 			#给用户添加附属组</div><div class="line">gpasswd -d 用户名 附属组 			#把用户从附属组中删除</div><div class="line"></div><div class="line">newgrp 组名</div><div class="line">#用户创建的文件默认为主要组；需要以附属组创建文件的，需将身份切换到附属组</div><div class="line">#把用户的组切换到附属组，需要用户登录后，自己执行，切换</div><div class="line">#组密码是在组切换时用的，如果有会要求输入组密码</div><div class="line"></div><div class="line">useradd -g group1 -G group2,group3... 用户名  </div><div class="line">#同时指定主用户组和附属用户组</div><div class="line">gpasswd 用户名 </div><div class="line">#更改组密码,回车会有相应的提示操作</div><div class="line">gpasswd -a 用户名 附属组，附属组，.....</div><div class="line">#添加附属组</div><div class="line">usermod -g</div><div class="line">#修改主要组</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;用户基本命令&quot;&gt;&lt;a href=&quot;#用户基本命令&quot; class=&quot;headerlink&quot; title=&quot;用户基本命令&quot;&gt;&lt;/a&gt;用户基本命令&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gut
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 swap分区</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-swap%E5%88%86%E5%8C%BA/"/>
    <id>http://yoursite.com/2018/05/06/Linux磁盘管理-swap分区/</id>
    <published>2018-05-06T07:59:06.000Z</published>
    <updated>2018-05-06T08:18:27.167Z</updated>
    
    <content type="html"><![CDATA[<p>为磁盘添加SWAP交换分区</p>
<p>1.首先建立一个普通的Linux分区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fdisk /dev/sdb</div><div class="line">#参考MBR分区</div><div class="line">#输入p查看sdb的分区</div></pre></td></tr></table></figure></p>
<p>2.修改分区类型的16进制编码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">输入t，输入要修改的磁盘编号 这里是 6（sdb6的6）；</div><div class="line">输入 L 来查看可以修改成的类型</div><div class="line">再输入82（Linux swap）,保存成功</div><div class="line">输入p来查看已经保存的情况</div><div class="line">输入w保存分区</div></pre></td></tr></table></figure></p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG30.jpg" alt=""></p>
<p>3.格式化交换分区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mkswap（后面跟随设备名称） /dev/sdb6 完成格式化</div></pre></td></tr></table></figure></p>
<p>4.启动交换分区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">swapon /dev/sdb6 	#启动交换分区</div><div class="line">free 				#查看加载状况</div><div class="line">swapoff /dev/sdb6 	#关闭交换分区</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;为磁盘添加SWAP交换分区&lt;/p&gt;
&lt;p&gt;1.首先建立一个普通的Linux分区&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;d
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 格式化</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-%E6%A0%BC%E5%BC%8F%E5%8C%96/"/>
    <id>http://yoursite.com/2018/05/06/Linux磁盘管理-格式化/</id>
    <published>2018-05-06T06:23:56.000Z</published>
    <updated>2018-05-06T08:38:54.588Z</updated>
    
    <content type="html"><![CDATA[<h2 id="格式化："><a href="#格式化：" class="headerlink" title="格式化："></a>格式化：</h2><p>又称逻辑格式化，它是指根据用户选定的文件系统（eg：FAT16（最大支持2GB分区），FAT32（单个文件大小不能超过4GB，最大支持16TB分区），NTFS，EXT2，EXT3，EXT4（centos6默认文件系统）等），在磁盘特定区域写入特定数据，在分区中划出一片用于存放文件分配表、目录表等用于文件管理的磁盘空间。</p>
<p>格式化的目的并不是清空数据，其根本目的是为了<strong>写入文件系统，能够更快查找读写数据</strong>，但是在进行格式化的操作时会先清空原有数据。</p>
<p>格式化具体进行的操作：<br>将整个分区分割成等大小的数据块（Block），每个数据块默认4KB，存储文件的最小，可以手动选择1KB、2KB或4KB。假设存放10KB的文件，会使用3个数据块，三个数据块不一定是连续的，最后的一数据块中即使没有放满，也不能再存放其他文件。<br>在分区列表中建立一个二维表格，记录了文件的id号（即文件放在那些数据库中，叫做iNode）、文件修改时间、文件的访问权限。操作文件时先访问此二维表进行权限匹配。</p>
<p>parted工具可以格式化，但是parted支持的文件系统有限<br>无论使用MBR，还是GPT进行的分区，都可以使用”mkfs”进行分区格式化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkfs (-make for system)</div><div class="line">mkfs -t ext3 /dev/sda6     #将sda6分区格式化为ext3格式</div><div class="line">mkfs -t ext2 /dev/sda7     #将sda7分区格式化为ext2格式</div></pre></td></tr></table></figure>
<p>MBR只有主分区和逻辑分区可以格式化， 扩展分区不可以格式化<br>GPT类型格式化后，使用fdisk看不到各个分区的系统文件格式， 必须启动parted工具的print指令来查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ls -l /dev/sdb 		#查看sdb磁盘上的设备情况</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;格式化：&quot;&gt;&lt;a href=&quot;#格式化：&quot; class=&quot;headerlink&quot; title=&quot;格式化：&quot;&gt;&lt;/a&gt;格式化：&lt;/h2&gt;&lt;p&gt;又称逻辑格式化，它是指根据用户选定的文件系统（eg：FAT16（最大支持2GB分区），FAT32（单个文件大小不能超过4GB
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 GPT分区</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-GPT%E5%88%86%E5%8C%BA/"/>
    <id>http://yoursite.com/2018/05/06/Linux磁盘管理-GPT分区/</id>
    <published>2018-05-06T06:21:07.000Z</published>
    <updated>2018-05-06T09:21:34.998Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MBR分区模式和GPT分区模式比较"><a href="#MBR分区模式和GPT分区模式比较" class="headerlink" title="MBR分区模式和GPT分区模式比较"></a>MBR分区模式和GPT分区模式比较</h2><p>MBR</p>
<ul>
<li>区容量最大2TB</li>
<li>分区命令fdisk /dev/sdxx  </li>
<li>分区完毕，执行-w 写入分区表才能生效</li>
<li>分区表类型是：msdos</li>
<li>缺点：限制多，跟不上发展</li>
</ul>
<p>GPT</p>
<ul>
<li>主分区个数”几乎”没有限制（最多128个）</li>
<li>单个分区容量”几乎”没有限制(最大18EB)</li>
<li>使用parted命令工具（同时支持MBR,GPT分区）</li>
<li>分区表类型是：gpt</li>
<li>1EB=1024PB,1PB=1024TB,1TB=1024GB</li>
<li>缺点：GPT主分区中不适合安装x86的系统架构</li>
</ul>
<h2 id="使用parted进行分区"><a href="#使用parted进行分区" class="headerlink" title="使用parted进行分区"></a>使用parted进行分区</h2><p>fdisk只能给硬盘做MBR分区<br>parted既能给硬盘做MBR分区，又能做GPT分区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">输入parted命令，启动parted分区工具，默认分区目标是系统的第一块硬盘</div><div class="line">输入help，查看帮助信息</div><div class="line">输入select /dev/sdc，切换分区目标磁盘</div><div class="line">输入mklable命令，给目标硬盘指定分区表的类型，然后才能给硬盘添加分区</div><div class="line">如果使用MBR分区，输入mklabel msdos；使用GPT分区，输入mklabel gpt</div><div class="line">输入print 查看当前分区详情；输入print all命令，查看所有分区详情</div><div class="line"></div><div class="line">parted分区操作模式：①交互模式（使用提问模式选择） ②命令模式</div><div class="line"></div><div class="line">**交互模式**</div><div class="line">输入mkpart  #添加分区</div><div class="line">输入分区名称</div><div class="line">选择分区系统类型</div><div class="line">分区从第几MB开始，4K对齐对硬盘分区很重要，为了达到最佳性能，分出1MB空间，让数据块对齐</div><div class="line">结束位置</div><div class="line"></div><div class="line">**命令模式**</div><div class="line">命令模式下，分区名称不能省略</div><div class="line">mkpart test(分区名称) 2000(开始位置2000MB) 3000(结束位置MB)</div><div class="line"></div><div class="line"></div><div class="line">rm [分区编号] #删除分区</div><div class="line">unit GB		#使用GB给分区指定开始和结束位置</div><div class="line">quit		#退出分区工具</div></pre></td></tr></table></figure>
<p>fdisk分区设计完成后 最后要通过w来写入硬盘,parted不需使用w保存</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;MBR分区模式和GPT分区模式比较&quot;&gt;&lt;a href=&quot;#MBR分区模式和GPT分区模式比较&quot; class=&quot;headerlink&quot; title=&quot;MBR分区模式和GPT分区模式比较&quot;&gt;&lt;/a&gt;MBR分区模式和GPT分区模式比较&lt;/h2&gt;&lt;p&gt;MBR&lt;/p&gt;
&lt;u
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 基本命令</title>
    <link href="http://yoursite.com/2018/05/06/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/06/Linux磁盘管理-基本命令/</id>
    <published>2018-05-06T06:04:50.000Z</published>
    <updated>2018-05-06T06:08:00.089Z</updated>
    
    <content type="html"><![CDATA[<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">df：查看磁盘分区使用状况</div><div class="line">-l：仅显示本地默认磁盘（默认）</div><div class="line">-a：显示所有文件系统的磁盘使用情况</div><div class="line">-h：以1024进制计算最合适的单位显示磁盘容量（默认KB显示）</div><div class="line">-H：显示以1000进制计算最合适的单位显示磁盘容量</div><div class="line">-T：显示磁盘分区类型</div><div class="line">-t：显示指定类型文件系统的磁盘分区  //如：df -t ext4</div><div class="line">-x：不显示指定类型文件系统的磁盘分区</div></pre></td></tr></table></figure>
<h2 id="du"><a href="#du" class="headerlink" title="du"></a>du</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">du 统计磁盘上的文件大小</div><div class="line">-b 以byte为单位统计文件  //统计出来的都是四舍五入的大小</div><div class="line">-k 以KB为单位统计文件    //统计出来的都是四舍五入的大小</div><div class="line">-m 以MB为单位统计文件    //统计出来的都是四舍五入的大小</div><div class="line">-h 按照1024进制以最适合的单位统计文件</div><div class="line">-H 按照1000进制以最适合的单位统计文件</div><div class="line">-s 指定统计目标  </div><div class="line">du -s tmp</div><div class="line">du -sb *.zip</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;df&quot;&gt;&lt;a href=&quot;#df&quot; class=&quot;headerlink&quot; title=&quot;df&quot;&gt;&lt;/a&gt;df&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div c
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux su root和sudo su</title>
    <link href="http://yoursite.com/2018/05/05/Linux-su-root%E5%92%8Csudo-su/"/>
    <id>http://yoursite.com/2018/05/05/Linux-su-root和sudo-su/</id>
    <published>2018-05-05T15:43:02.000Z</published>
    <updated>2018-05-06T05:51:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>来自<a href="https://askubuntu.com/questions/86095/does-executing-sudo-su-and-su-root-do-the-same-thing?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa" target="_blank" rel="external">https://askubuntu.com/questions/86095/does-executing-sudo-su-and-su-root-do-the-same-thing?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa</a></p>
<p>Does executing sudo su and su root do the same thing?What are the technical differences between the two? The only thing I noticed is that</p>
<p><code>sudo su</code><br>requires you to enter your own password (assuming you’re not root)</p>
<p><code>su root</code><br>requires you to enter root’s password. However both seem to log you into the root user account.</p>
<p>The second command cannot be executed in a default Ubuntu installation, where the root account is not enabled.</p>
<p>But supposing you have unlocked the root account giving him a password, the two commands could only differ in the environment and shell variable set, I think. Compare the output of env in the two situations, and maybe also the output of set to see the differences.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;来自&lt;a href=&quot;https://askubuntu.com/questions/86095/does-executing-sudo-su-and-su-root-do-the-same-thing?utm_medium=organic&amp;amp;utm_source=g
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux用户管理 配置文件</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
    <id>http://yoursite.com/2018/05/05/Linux用户管理-配置文件/</id>
    <published>2018-05-05T14:41:15.000Z</published>
    <updated>2018-05-06T12:16:55.546Z</updated>
    
    <content type="html"><![CDATA[<p>用户：使用操作系统的人<br>用户组：具有相同系统权限的一组用户</p>
<p>用户和用户组配置文件</p>
<p>/etc/group    存储当前系统中所有用户组的信息<br>-Group：        x        ：  501   ：abc,def,xyz<br>-组名称：组密码占位符    ： 组编号：组中用户名列表</p>
<p>组编号1-499是系统预留给软件的<br>手动创建的用户从500开始</p>
<p>/etc/gshadow    存储当前系统中用户组的密码信息<br>-Group：        *        ：      ：abc,def,xyz<br>-组名称：  组密码    ：组管理者：组中用户名列表</p>
<p>/etc/passwd    存储当前系统中所有用户的信息<br>-user：    x    ：   123   ：   456    ：   xxxxxxxx  ：/home/user  ： /bin/bash<br>-用户名：密码占位符：用户编号： 用户组编号：  用户注释信息：用户主目录 ：shell类型</p>
<p>/etc/shadow    存储当前系统中所有用户的密码信息<br>-user    ：   vf;/Zu8sdf… ：：：：：<br>-用户名 ：    密码         ：：：：：</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用户：使用操作系统的人&lt;br&gt;用户组：具有相同系统权限的一组用户&lt;/p&gt;
&lt;p&gt;用户和用户组配置文件&lt;/p&gt;
&lt;p&gt;/etc/group    存储当前系统中所有用户组的信息&lt;br&gt;-Group：        x        ：  501   ：abc,def,xyz&lt;
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 关机和重启</title>
    <link href="http://yoursite.com/2018/05/05/Linux-%E5%85%B3%E6%9C%BA%E5%92%8C%E9%87%8D%E5%90%AF/"/>
    <id>http://yoursite.com/2018/05/05/Linux-关机和重启/</id>
    <published>2018-05-05T07:24:14.000Z</published>
    <updated>2018-05-05T10:15:05.588Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h2><pre><code>shutdown [选项] 时间
#相比其它命令更安全，在关机和重启时会正确保存正在运行的程序
选项：
 -c:取消前一个关机命令
 -h:关机（half）
 -r:重启

shutdown -r 05:30
shutdown -r 05:30 &amp; (后台运行)
shutdown -r now
#在服务器上尽量避免远程关机，因为再开机麻烦，所以远程重启就足够了
#服务器由于经常进行高速运算强制重启非常容易损坏硬件，也容易造成数据丢失，所以一定要小心

#其他关机命令(不安全，慎用)
half
poweroff
init 0
</code></pre><p><br>  </p>
<h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><pre><code>reboot (相对安全)
init 6 (尽量不要用)
</code></pre><p><br>  </p>
<h2 id="系统运行级别"><a href="#系统运行级别" class="headerlink" title="系统运行级别"></a>系统运行级别</h2><p>0 关机<br>1 单用户 （与windows安全模式相似）<br>2 不完全多用户，不含NFS服务（NFS：文件共享服务）<br>3 完全多用户（字符界面）<br>4 未分配<br>5 图形界面（如果装了图形界面，init 5 进入图形界面）<br>6 重启</p>
<pre><code>runlevel
# 查询系统运行级别
# 结果：N 3 (当前是3 N是上一次登陆级别)

cat /etc/inittab 
# 查看/etc/inittab的内容
id:3:initdefault: 
# 修改系统默认运行级别，这里默认是3
</code></pre><p><br>  </p>
<h2 id="退出登录命令"><a href="#退出登录命令" class="headerlink" title="退出登录命令"></a>退出登录命令</h2><pre><code>logout 
# LINUX默认同时256个登录，最大支持6万多
# 每次使用后，建议退出当前用户，避免他人因账户占用无法使用！与windows中的注销相似！
</code></pre><p>注意：<br>如果关闭远程登录xshell时直接点X，该用户就卡在计算机里，因为没有正确退出，所以一定养成正确退出登录的习惯</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;关机&quot;&gt;&lt;a href=&quot;#关机&quot; class=&quot;headerlink&quot; title=&quot;关机&quot;&gt;&lt;/a&gt;关机&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;shutdown [选项] 时间
#相比其它命令更安全，在关机和重启时会正确保存正在运行的程序
选项：
 -c:取消前一个关
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 帮助命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux-%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux-帮助命令/</id>
    <published>2018-05-05T07:22:49.000Z</published>
    <updated>2018-05-05T09:51:17.124Z</updated>
    
    <content type="html"><![CDATA[<h2 id="man"><a href="#man" class="headerlink" title="man"></a>man</h2><pre><code>man 命令
# 获取指定命令的帮助
# man是manual的缩写
# 最常用的帮助命令
# q退出
# 输入:/-d 搜索&quot;-d&quot;字符串，按n往下搜“-d”,shift+n 往上搜“-d”

man -f 命令
# 查看命令的所有帮助等级
# 相当于 whatis 命令
# 因为whereis命令可以看到命令的帮助文档目录，所以也可以查看目录的等级

man 级别 命令
#查看相应等级的命令
man -5 passwd
man -4 null
man -8 ifconfig

man -k 命令 
# 相当于 apropos 命令
# 搜索含有关键词“命令”的所有帮助文档
man -k passwd
# 搜索含有关键词“passwd”的所有命令的帮助文档
</code></pre><p>man的级别：</p>
<ol>
<li>查看命令的帮助</li>
<li>查看可被内核调用的函数的帮助</li>
<li>查看函数和函数库的帮助</li>
<li>查看特殊文件的帮助（主要是/dev目录下的文件）</li>
<li>查看配置文件的帮助</li>
<li>查看游戏的帮助</li>
<li>查看其它杂项的帮助</li>
<li>查看系统管理员可用命令的帮助</li>
<li>查看和内核相关文件的帮助</li>
</ol>
<h2 id="–help"><a href="#–help" class="headerlink" title="–help"></a>–help</h2><pre><code>命令 --help 
#获取命令选项的帮助
ls --help 
</code></pre><h2 id="helpshell内部命令帮助"><a href="#helpshell内部命令帮助" class="headerlink" title="helpshell内部命令帮助"></a>helpshell内部命令帮助</h2><pre><code>help shell内部命令
#whereis可以用来判断一个命令是否是shell内部命令
#ls在/bin/下面有可执行文件，说明ls命令不是shell内部命令
#cd命令在/bin/下面没有相应的可执行文件，所以是shell自带的命令
</code></pre><p>man命令不能只获取shell的内部命令</p>
<pre><code>#help命令只能获取shell的内部命令
</code></pre><h2 id="info"><a href="#info" class="headerlink" title="info"></a>info</h2><pre><code>info 命令
#info里面内容十分繁琐，是关于命令的一个巨大的帮助文档，里面有各个版本对于此命令的说明。
回车：进入带*号的说明
-u: 进入上层页面
-n: 进入下一个帮助小节
-p: 进入上一个帮助小节
-q: 退出
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;man&quot;&gt;&lt;a href=&quot;#man&quot; class=&quot;headerlink&quot; title=&quot;man&quot;&gt;&lt;/a&gt;man&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;man 命令
# 获取指定命令的帮助
# man是manual的缩写
# 最常用的帮助命令
# q退出
# 输入:/
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 链接命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E9%93%BE%E6%8E%A5%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-链接命令/</id>
    <published>2018-05-05T04:32:53.000Z</published>
    <updated>2018-05-05T04:41:58.871Z</updated>
    
    <content type="html"><![CDATA[<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><pre><code>ln -s [原文件][目标文件] （link）
#生成链接文件
-s 创建软链接
</code></pre><p><br></p>
<h2 id="硬链接"><a href="#硬链接" class="headerlink" title="硬链接"></a>硬链接</h2><ul>
<li>拥有相同的i节点和存储block块，可以看做是同一个文件。（在格式化时，第一将分区划分为等大小的block数据块，该数据块通常为4KB。第二建立分区表，并为每个文件建立一个相关数据。当用户搜索某个文件时，会先到分区表中查找文件所对应的block存储位置，接着到相应位置取出，并返回给用户。）硬链接与原文件拥有相同的i节点。因此，与原文件非常相似。当删除原文件或硬链接文件的任何一文件，不影响文件索引操作。可看做，同一个文件的不通进入点。它是同样的存储空间。</li>
<li>可通过i节点识别</li>
<li>不能跨分区建立</li>
<li>不能针对目录使用，只有文件才可以创建</li>
</ul>
<pre><code>ln ./source/abc ./target/bcd.hard
# 创建后，引用计数+1
ls -i ./source/abc ./target/bcd.hard
# 可使用ls -i 来查看文件i节点号
</code></pre><p>不建议创建硬链接文件<br>文件太过隐蔽，除了有i节点这样一个标识之外，很难区分它是不是硬链接<br>硬链接限制较多，不能跨分区，不能针对目录，使用当中容易出现错误使用方法</p>
<p><br></p>
<p>##软链接</p>
<ul>
<li>类似于Windows快捷方式</li>
<li>软链接拥有自己的i节点和block块，但是数据块中只保存原文件的文件名和i节点号，并没有实际的文件数据。（拥有自己的分区表中索引数据,通过索引找到分区表中文件的目标索引数据，再通过目标索引数据，查找数据）</li>
<li>lrwxrwxrwx  l软链接， 软链接文件权限都为rwxrwxrwx, 虽然权限显示为777，但实际权限需要看原文件权限。</li>
<li>修改任意文件，另一个都改变</li>
<li>删除原文件，软链接不能使用</li>
<li>创建软链接，原文件<strong>一定要写绝对路径</strong>。否则，软链接会到它所在的同一目录去找原文件。</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;命令&quot;&gt;&lt;a href=&quot;#命令&quot; class=&quot;headerlink&quot; title=&quot;命令&quot;&gt;&lt;/a&gt;命令&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;ln -s [原文件][目标文件] （link）
#生成链接文件
-s 创建软链接
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 挂载命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-%E6%8C%82%E8%BD%BD%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux磁盘管理-挂载命令/</id>
    <published>2018-05-05T03:40:03.000Z</published>
    <updated>2018-05-06T11:51:12.798Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mount-命令"><a href="#mount-命令" class="headerlink" title="mount 命令"></a>mount 命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mount </div><div class="line">#查看系统中已挂载的设备</div><div class="line">mount -a </div><div class="line">#依据配置文件/etc/fstab内容，自动挂载    </div><div class="line">#光盘、U盘的数据不建议写入自动挂载中，否则开机时没有光盘和U盘的话，系统崩溃</div><div class="line"></div><div class="line">mount [-t 文件系统] [-o 特殊选项] [设备文件名] [挂载点]</div><div class="line">-t：加入文件系统类型来指定挂载的类型，ext3,ext4,iso9660等文件系统</div><div class="line">-o：可以指定挂载的额外选项</div><div class="line">mount -o remount，noexec /home</div><div class="line">#/home内的执行文件无法执行</div><div class="line">mount -o remount，exec /home</div></pre></td></tr></table></figure>
<p>###挂载光盘<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkdir /mnt/cdrom/   </div><div class="line">#建立挂载点</div><div class="line">mount -t iso9660 /dev/sr0  /mnt/cdrom          </div><div class="line">#/dev/sr0是光盘设备名，也可以用/dev/cdrom（sr0的软连接，但需要系统完全启动才能用）   -t iso9660 可以省略  因为系统知道sr0是iso9660</div></pre></td></tr></table></figure></p>
<p>###卸载<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">umount [设备文件名或挂载点]   </div><div class="line">umount /mnt/cdrom    </div><div class="line">umount /dev/sr0  </div><div class="line">#都可以   卸载时位置不能在光盘目录下</div></pre></td></tr></table></figure></p>
<p>###挂载U盘<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">fdisk -l   </div><div class="line">#查看U盘设备文件名    </div><div class="line">#U盘可以看成系统的第二块硬盘</div><div class="line">mount -t vfat /dev/sdb1 /mnt/usb/           </div><div class="line">#-t vfat     windows的fat32文件系统</div><div class="line">注：linux默认不支持ntfs文件系统，所以移动硬盘正常没法挂载，能挂载后也只能读，不能写，所以用windows数据一般用网络传播</div><div class="line">#解决办法</div><div class="line">1. 编译内核   让linux 支持NTFS文件系统   </div><div class="line">2. 安装ntfs-3g</div></pre></td></tr></table></figure></p>
<h2 id="手动挂载分区"><a href="#手动挂载分区" class="headerlink" title="手动挂载分区"></a>手动挂载分区</h2><p>手动挂载的分区，不具有永久性，系统重启后，挂载就会失效<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># 没有挂载无法使用，分区默认的挂载目录是/mnt目录</div><div class="line">sudo fdisk -l</div><div class="line">#查看系统的硬盘和硬盘分区情况，了解需要的设备，比如移动硬盘/U盘/windows下的分区/光盘</div><div class="line">sudo mkdir -p /media/usb</div><div class="line">#创建挂载目录</div><div class="line">sudo mount /dev/sdb /media/usb</div><div class="line">#挂载</div><div class="line"></div><div class="line">sudo umount /dev/sdb</div><div class="line">#卸载</div></pre></td></tr></table></figure></p>
<h2 id="永久挂载"><a href="#永久挂载" class="headerlink" title="永久挂载"></a>永久挂载</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/fstab</div></pre></td></tr></table></figure>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG29.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;mount-命令&quot;&gt;&lt;a href=&quot;#mount-命令&quot; class=&quot;headerlink&quot; title=&quot;mount 命令&quot;&gt;&lt;/a&gt;mount 命令&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td cl
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 文件解压缩命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E6%96%87%E4%BB%B6%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-文件解压缩命令/</id>
    <published>2018-05-05T03:39:33.000Z</published>
    <updated>2018-05-05T10:04:19.303Z</updated>
    
    <content type="html"><![CDATA[<p>常用压缩格式： .zip    .gz        .bz2<br>常用解压缩格式： .tar.gz        .tar.bz2    </p>
<h2 id="zip格式"><a href="#zip格式" class="headerlink" title=".zip格式"></a>.zip格式</h2><h3 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h3><pre><code>zip 压缩文件名 源文件   
#压缩文件
zip -r 压缩文件名 源目录  
#压缩目录
</code></pre><h3 id="解压缩"><a href="#解压缩" class="headerlink" title="解压缩"></a>解压缩</h3><pre><code>unzip 压缩文件
</code></pre><h2 id="gz格式"><a href="#gz格式" class="headerlink" title=".gz格式"></a>.gz格式</h2><h3 id="压缩-1"><a href="#压缩-1" class="headerlink" title="压缩"></a>压缩</h3><pre><code>gzip 源文件
#压缩为.gz格式的压缩文件，源文件消失

gzip -c 源文件 &gt; 压缩文件
#压缩为.gz格式，源文件保留
gzip -c cangls &gt; cangls.gz

gzip -r 目录
#压缩目录下所有的子文件，但是不能压缩目录
</code></pre><h3 id="解压缩-1"><a href="#解压缩-1" class="headerlink" title="解压缩"></a>解压缩</h3><pre><code>gzip -d 压缩文件 
gunzip 压缩文件    
</code></pre><h2 id="bz2格式"><a href="#bz2格式" class="headerlink" title=".bz2格式"></a>.bz2格式</h2><h3 id="压缩-2"><a href="#压缩-2" class="headerlink" title="压缩"></a>压缩</h3><pre><code>bzip2 源文件 
#压缩文件，源文件消失
bzip2 -k 源文件 
#压缩之后保留源文件 
#注意：bzip2命令不能压缩目录
</code></pre><h3 id="解压缩-2"><a href="#解压缩-2" class="headerlink" title="解压缩"></a>解压缩</h3><pre><code>bzip2 -d 压缩文件  #解压缩，-k保留压缩文件
bunzip2 压缩文件  #解压缩，-k保留压缩文件
</code></pre><h2 id="打包命令tar"><a href="#打包命令tar" class="headerlink" title="打包命令tar"></a>打包命令tar</h2><pre><code>tar -cvf 打包文件名 源文件 
# 压缩为tar格式
tar -zcvf 压缩包名.tar.gz 源文件 
# 压缩为.tar.gz格式
tar -jcvf 压缩包名.tar.bz2 源文件 
# 压缩为.tar.bz2格式

#解压tar
tar -xvf 打包文件名 
#解压tar格式文件
tar -zxvf 压缩包名.tar.gz 
#解压.tar.gz格式文件
tar -jxvf 压缩包名.tar.bz2 
#解压.tar.bz2格式文件

-c：打包
-v：显示过程
-f：指定打包后的文件名
-x：解打包
-z：压缩为.tar.gz格式
-j：压缩为.tar.bz2格式

其他用法
tar -jxvf 打包文件名 -C 绝对路径 
#指定解压缩位置
tar -zcvf 绝对路径（/tmp/）+打包文件名 源文件 源文件 
#将多个文件解压到指定路径
tar -ztvf 压缩包文件名 
#查看压缩包内文件
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;常用压缩格式： .zip    .gz        .bz2&lt;br&gt;常用解压缩格式： .tar.gz        .tar.bz2    &lt;/p&gt;
&lt;h2 id=&quot;zip格式&quot;&gt;&lt;a href=&quot;#zip格式&quot; class=&quot;headerlink&quot; title=&quot;.zi
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 文件搜索命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E6%96%87%E4%BB%B6%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-文件搜索命令/</id>
    <published>2018-05-05T03:38:51.000Z</published>
    <updated>2018-05-05T12:58:32.256Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文件搜索命令-locate"><a href="#文件搜索命令-locate" class="headerlink" title="文件搜索命令 locate"></a>文件搜索命令 locate</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">locate 文件名</div><div class="line">#在后台数据库中按文件名搜索，搜索速度更快</div><div class="line"></div><div class="line">/var/lib/mlocate (保存的搜索数据库)</div><div class="line">#locate 命令所搜索的后台数据库</div><div class="line">#数据库不是实时的，更新频率大概一天更新一次</div><div class="line"></div><div class="line">updatedb</div><div class="line">#更新数据库</div></pre></td></tr></table></figure>
<p>对于新建的文件，由于数据库没有更新，使用<code>locate</code>不能查到。可以使用 updatedb强制更新数据库后即可查到。<br>可使用 <code>locate locate</code>搜索locate相关文件，可看到locate数据库。<br>在不同linux中，该数据库名字稍微不同，例如，locatedb、slocate、mlocate。</p>
<p>缺点：只能按照文件名进行搜索，但常用。</p>
<h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">touch /root/cangls</div><div class="line">touch /tmp/cangls</div><div class="line">updatedb</div><div class="line">locate cangls</div><div class="line">#显示为 /root/cangls  </div><div class="line">#只有一条，而/tmp下的cangls没有显示出来</div><div class="line">#原因在于locate搜索遵循配置文件 `/etc/updatedb.conf`</div><div class="line">#在PRUNEPATHS 中配置了/tmp/目录不进行搜索。所以没有进行查找</div><div class="line"></div><div class="line">/etc/updatedb.conf 配置文件</div><div class="line">PRUNE_BIND_MOUNTS = &quot;yes&quot;</div><div class="line">#开启搜索限制，yes为后面三项都生效。no为 后面三项都不生效</div><div class="line">PRUNEFS = </div><div class="line">#搜索时，不搜索的文件系统</div><div class="line">PRUNENAMES =</div><div class="line">#搜索时，不搜索的文件类型</div><div class="line">PRUNEPATHS =</div><div class="line">#搜索时，不搜索的路径</div></pre></td></tr></table></figure>
<p><br></p>
<h2 id="命令搜索命令-whereis和wchich"><a href="#命令搜索命令-whereis和wchich" class="headerlink" title="命令搜索命令 whereis和wchich"></a>命令搜索命令 whereis和wchich</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">whereis 命令名</div><div class="line">#搜索命令所在路径及帮助文档所在位置</div><div class="line">#只能搜索系统命令，不能搜索自己凭空创建的普通文件</div><div class="line">选项：</div><div class="line">-b:只查找可执行文件</div><div class="line">-m:只查找帮助文件</div><div class="line">#whoami 	显示当前操作用户</div><div class="line">#who am i	显示登录用户</div><div class="line">#whatis ls	显示ls的作用</div><div class="line"></div><div class="line">which 命令名</div><div class="line">#搜索命令所在路径及别名</div><div class="line">#如果有别名，还能看到别名</div><div class="line"></div><div class="line"># whereis和which不能看到shell的默认命令（如：cd），只能看到外部安装的命令。</div><div class="line"></div><div class="line">PATH环境变量</div><div class="line">定义系统搜索命令的路径</div><div class="line">echo $PATH</div><div class="line">执行命令的时候都要在path定义的目录中去寻找</div></pre></td></tr></table></figure>
<p><br></p>
<h2 id="文件搜索命令-find"><a href="#文件搜索命令-find" class="headerlink" title="文件搜索命令 find"></a>文件搜索命令 find</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">find [搜索范围][搜索条件]</div><div class="line">#搜索文件</div><div class="line"></div><div class="line">find /home -name 文件名</div><div class="line"># find搜索默认是完全匹配</div><div class="line"># 避免大范围的搜索，会非常浪费系统资源</div><div class="line"># find是在系统当中搜索符合条件的文件名，如果需要匹配，使用通配符匹配，通配符是完全匹配</div><div class="line">find /home -name &quot;[12]*&quot;</div><div class="line">find /home -name &quot;test[12]&quot;</div><div class="line">#要加引号</div><div class="line">*匹配任意内容</div><div class="line">?匹配任意一个字符</div><div class="line">[]匹配任意一个中括号内的字符</div><div class="line"></div><div class="line">find /home -mtime +10 在home目录下，查找10天前修改的文件</div><div class="line">find /home -mtime 10 在home目录下，查找10天前当天修改的文件</div><div class="line">find /home -mtime -10 在home目录下，查找10天内修改的文件</div><div class="line"># atime 文件访问时间</div><div class="line"># ctime 改变文件属性</div><div class="line"># mtime 修改文件内容</div><div class="line"></div><div class="line">find /root -iname test </div><div class="line"># 不区分要搜索的test大小写格式</div><div class="line">find /root -user root </div><div class="line"># -user 按文件所有者搜索</div><div class="line"># 搜索root目录下的所有属于root用户的文件</div><div class="line">find /root -nouser </div><div class="line">#没有所属者的文件，liunx中，每个文件都有所属者，如果没有，那么一般都是垃圾文件，但还是有特例的，比如内核产生的文件，就没有所属者，一般在proc和sys目录下；还有外来文件，也就是U盘拷入的文件也会忽略所有者。</div><div class="line"></div><div class="line">find 目录 -size 25k</div><div class="line"># 查找文件大小是25KB的文件</div><div class="line"># 注意：文件大小用小写k和大写M</div><div class="line"># -25k    小于25k</div><div class="line"># 25k     等于25k</div><div class="line"># +25k    大于25k</div><div class="line"></div><div class="line">find . -size 25M </div><div class="line"># 查询当前目录文件大小是25M的文件</div><div class="line"></div><div class="line">find /etc -size +20k -a -size -50k </div><div class="line"># 查找/etc下大于20k并且小于50k的文件</div><div class="line"># -a and,逻辑与，两个条件都满足</div><div class="line"># -o or,逻辑或，两个条件满足一个即可</div><div class="line"></div><div class="line">find /etc -size +20k -a -size -50k -exec ls -lh &#123;&#125; \;</div><div class="line">-exec &#123;&#125; \; </div><div class="line"># 固定格式，表示直接对前面的搜索结果进行后面的命令处理</div><div class="line"># 注意，&#123;&#125;和\之间有空格，结尾有分号</div><div class="line"></div><div class="line">find . -inum 262422 </div><div class="line"># 查找inode是262422的文件</div><div class="line"># -inum 查询指定i节点的文件</div></pre></td></tr></table></figure>
<p><br></p>
<h2 id="字符串搜索命令-grep"><a href="#字符串搜索命令-grep" class="headerlink" title="字符串搜索命令 grep"></a>字符串搜索命令 grep</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">grep [选项] 字符串 文件名</div><div class="line"># 在文件中匹配符合条件的字条串</div><div class="line"># 字符串使用 &quot;&quot; 包围，结果为行记录</div><div class="line">-i 忽略大小写</div><div class="line">-v 排除指定字符串</div></pre></td></tr></table></figure>
<p><br></p>
<h2 id="find命令和grep命令的区别"><a href="#find命令和grep命令的区别" class="headerlink" title="find命令和grep命令的区别"></a>find命令和grep命令的区别</h2><p>find：在 系统 中搜索符合条件的 文件名，使用 通配符（完全）匹配<br>grep：在 文件 当中搜索符合条件的 字符串，使用 正则表达式 （包含）匹配</p>
<p>通配符（完全）匹配：搜索文件名<br>正则表达式 （包含）匹配：搜索文件中的数据</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文件搜索命令-locate&quot;&gt;&lt;a href=&quot;#文件搜索命令-locate&quot; class=&quot;headerlink&quot; title=&quot;文件搜索命令 locate&quot;&gt;&lt;/a&gt;文件搜索命令 locate&lt;/h2&gt;&lt;figure class=&quot;highlight plai
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 文件处理命令</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-文件处理命令/</id>
    <published>2018-05-05T03:38:20.000Z</published>
    <updated>2018-05-05T03:41:18.513Z</updated>
    
    <content type="html"><![CDATA[<p>linux中一切皆文件。目录为目录文件。普通文件用来保存数据，目录文件用来保存文件</p>
<h4 id="命令提示符"><a href="#命令提示符" class="headerlink" title="命令提示符"></a>命令提示符</h4><pre><code>[root@localhost ~]#
root 当前登录用户
localhost 主机名
~ 当前所在目录（家目录）
# 超级用户的提示符
$ 普通用户的提示符
</code></pre><h4 id="命令的格式"><a href="#命令的格式" class="headerlink" title="命令的格式"></a>命令的格式</h4><pre><code>命令 [选项][参数]
个别命令使用不遵循此格式
当有多个选项时，可以写在一起
简化选项与完整选项：-a == --all
</code></pre><h4 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h4><ul>
<li>相对路径：参照当前所在目录，进行查找</li>
<li>绝对路径：从根目录开始制定，一级一级递归，进行查找</li>
</ul>
<h4 id="ls-查询目录中的内容"><a href="#ls-查询目录中的内容" class="headerlink" title="ls 查询目录中的内容"></a>ls 查询目录中的内容</h4><pre><code>ls [选项] [文件或目录]
    -a 显示所有文件,包括隐藏文件
    -l 显示详细信息
    -d 查看目录属性
    -h 人性化显示文件大小
    -i 显示inode
ll命令表示ls -l
</code></pre><h4 id="mkdir-建立目录（make-directories）"><a href="#mkdir-建立目录（make-directories）" class="headerlink" title="mkdir  建立目录（make directories）"></a>mkdir  建立目录（make directories）</h4><pre><code>mkdir -p [目录名]
    -p ：递归创建，当创建多级目录时需加
mkdir light
mkdir -p imooc/linux/light
</code></pre><h4 id="cd-切换目录（change-directory）"><a href="#cd-切换目录（change-directory）" class="headerlink" title="cd 切换目录（change directory）"></a>cd 切换目录（change directory）</h4><pre><code>cd [目录]
简化操作
cd：进入当前用户的家目录
cd ~ ：进入当前用户的家目录
cd - ：进入上次目录
cd .. ：进入上一级目录
cd . ：进入当前目录
</code></pre><h4 id="pwd-查询所在目录位置（print-working-directory）"><a href="#pwd-查询所在目录位置（print-working-directory）" class="headerlink" title="pwd 查询所在目录位置（print working directory）"></a>pwd 查询所在目录位置（print working directory）</h4><h4 id="rmdir-删除空目录（remove-empty-directories）"><a href="#rmdir-删除空目录（remove-empty-directories）" class="headerlink" title="rmdir 删除空目录（remove empty directories）"></a>rmdir 删除空目录（remove empty directories）</h4><pre><code>rmdir [目录名] 
#只能删除空目录
</code></pre><h4 id="rm-删除文件或目录（remove）"><a href="#rm-删除文件或目录（remove）" class="headerlink" title="rm 删除文件或目录（remove）"></a>rm 删除文件或目录（remove）</h4><pre><code>rm -rf [文件或目录] 
    -r ：删除目录
    -f ：强制
rm [文件名] ：提示是否删除
rm -r [目录] ：删除目录需加 -r ，目录中含有子文件，将持续询问是否删除
rm -rf [目录] ：删除目录， 不会询问是否删除而直接进行
# 纯字符界面没有回收站。注意自杀指令：rm -rf /
rm -rf /tmp/* ：删除tmp目录下的内容
rm -rf /tmp/  ：删除tmp目录
# 建议：删除文件或目录习惯使用命令 rm -rf [文件或目录]
</code></pre><h4 id="cp-复制命令（copy）"><a href="#cp-复制命令（copy）" class="headerlink" title="cp 复制命令（copy）"></a>cp 复制命令（copy）</h4><pre><code>cp [选项] [原文件或目录] [目标目录] 
    -r ：复制目录
    -p ：连带文件属性复制
    -d ：若原文件是链接文件，则复制链接属性
    -a ：相当于 -pdr 全选
cp abc /tmp/ 若目标目录不加文件名，则为原名复制
cp abc /tmp/ana 若目标目录后加入文件名，则为改名复制
cp -r japan/ /tmp/ 复制目录
cp -a japan/ /tmp/ 完全复制，包括所有属性
#被复制文件的时间为执行复制命令的时间，若要使被复制的文件与原文件属性完全一致，需加 -a
</code></pre><h4 id="mv-剪切或改名命令（move）"><a href="#mv-剪切或改名命令（move）" class="headerlink" title="mv 剪切或改名命令（move）"></a>mv 剪切或改名命令（move）</h4><pre><code>mv [原文件或目录] [目标目录] 
mv japan/ /tmp/ 剪切目录时不需加 -r
mv abc longls 当原文件与目标目录，在同一目录下，则为改名命令
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;linux中一切皆文件。目录为目录文件。普通文件用来保存数据，目录文件用来保存文件&lt;/p&gt;
&lt;h4 id=&quot;命令提示符&quot;&gt;&lt;a href=&quot;#命令提示符&quot; class=&quot;headerlink&quot; title=&quot;命令提示符&quot;&gt;&lt;/a&gt;命令提示符&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;[
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件管理 常用目录</title>
    <link href="http://yoursite.com/2018/05/05/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86-%E5%B8%B8%E7%94%A8%E7%9B%AE%E5%BD%95/"/>
    <id>http://yoursite.com/2018/05/05/Linux文件管理-常用目录/</id>
    <published>2018-05-05T02:13:04.000Z</published>
    <updated>2018-05-05T04:31:46.635Z</updated>
    
    <content type="html"><![CDATA[<p>linux 是个严谨的操作系统，一级目录都严格规定</p>
<p>/ 根目录</p>
<p>/home 普通用户的家目录<br>/root 超级用户的家目录<br>/tmp 临时目录，可存放临时数据</p>
<p>/lib 系统库保存目录<br>操作系统中并没有把所有功能都写入linux中，而将常用的功能写成一个个程序库，这些库保存在lib中，当需要时调用即可。避免全部写入linux中，使其无比庞大且运行缓慢。</p>
<p>/mnt<br>/media<br>/misc<br>三个都可以用来挂载</p>
<p>/proc 直接写入内存的<br>/sys 直接写入内存的<br>这两个目录保存的是内存的挂载点，不能直接操作。其中的数据直接写在内存中。避免数据丢失或由于内存溢出导致系统崩溃。</p>
<p>/boot 启动目录，启动相关文件<br>/dev 设备文件保存目录<br>/etc 配置文件保存目录<br>/var 系统相关文档内容</p>
<p>/usr 系统软件资源目录<br>/usr/bin/ 系统命令（普通用户）<br>/usr/sbin/ 系统命令（超级用户）</p>
<p>/bin 命令保存目录（普通用户就可以读取的命令）<br>/sbin 命令保存目录（超级用户才能使用的目录）<br>根目录下的bin和sbin，usr目录下的bin和sbin，这四个目录都是用来保存系统命令。其中，bin目录<br>下的命令任何用户都可以执行，sbin目录下只有root才可以执行。linux使用此方式来区分用户权限。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;linux 是个严谨的操作系统，一级目录都严格规定&lt;/p&gt;
&lt;p&gt;/ 根目录&lt;/p&gt;
&lt;p&gt;/home 普通用户的家目录&lt;br&gt;/root 超级用户的家目录&lt;br&gt;/tmp 临时目录，可存放临时数据&lt;/p&gt;
&lt;p&gt;/lib 系统库保存目录&lt;br&gt;操作系统中并没有把所有功能都
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux磁盘管理 MBR分区</title>
    <link href="http://yoursite.com/2018/05/04/Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-MBR%E5%88%86%E5%8C%BA/"/>
    <id>http://yoursite.com/2018/05/04/Linux磁盘管理-MBR分区/</id>
    <published>2018-05-04T12:28:18.000Z</published>
    <updated>2018-05-06T07:09:26.793Z</updated>
    
    <content type="html"><![CDATA[<p>硬件设备都是由Linux系统自动识别的，必须对硬盘进行分区、格式化、挂载后才能使用</p>
<p>分区的意义：<a href="http://www.cnblogs.com/personnel/p/4584926.html" target="_blank" rel="external">http://www.cnblogs.com/personnel/p/4584926.html</a></p>
<p>Windows与Linux的磁盘使用流程</p>
<ul>
<li>Windows：分区–&gt;格式化–&gt;分配盘符</li>
<li>Linux：分区–&gt;格式化–&gt;给每个分区起“设备文件名”–&gt;分配挂载点</li>
</ul>
<h2 id="MBR"><a href="#MBR" class="headerlink" title="MBR"></a>MBR</h2><p>MBR=主引导区记录。硬盘的0磁道的第一个扇区称为MBR，它的大小是512字节，而这个区域可以分为三个部分。第一部分为pre-boot区（预启动区），占446字节；第二部分是Partition table区（分区表），占64个字节，硬盘中分区有多少以及每一分区的大小都记在其中。第三部分是magic number，占2个字节，固定为55AA。</p>
<p>MBR是针对整个硬盘而言的，而引导扇区是对单个分区而言的。每个分区的第一扇区就是引导扇区：像MBR一样，引导扇区里包含了一些引导操作系统所需要的相关信息。如果引导扇区被破坏了是个非常严重的问题，那就意味着这个分区不能被访问，安装在这个分区上的操作系统也不能被启动。所以说修复引导是使得每一个分区都能被正确识别引导。</p>
<p>##MBR分区类型（所有系统都适用）：</p>
<h4 id="主分区"><a href="#主分区" class="headerlink" title="主分区"></a>主分区</h4><p>最多只能分4个，由硬盘的结构决定（硬盘分为一个个等大小的扇区，每个扇区512字节，其中446个字节用于记录启动信息， 剩下的64个字节进行分区表示，64个字节中每16个字节表示一个分区，所以最多只能表示4个分区，故而硬盘结构如果不变，主分区最多只能分4个）。每个主分区都有各自独立的引导块，可以用fdisk设定为启动区。</p>
<p>Windows下A、B作为软分区的盘符，C作为第一个主分区的盘符，所以最多还能分23个子分区。</p>
<p>####扩展分区</p>
<p><strong>一块硬盘中扩展分区只能有一个</strong></p>
<p><strong>主分区和扩展分区总数不能超过4个</strong></p>
<p>可以将一个主分区作为扩展分区，即三个主分区，一个扩展分区，总计4个分区；</p>
<p><strong>不能直接写入数据</strong>，只能用作包含逻辑分区。</p>
<p>区分扩展分区和逻辑分区，是突破主分区只能有4个的最主要的方法。</p>
<h4 id="逻辑分区"><a href="#逻辑分区" class="headerlink" title="逻辑分区"></a>逻辑分区</h4><p>可以有多个，没有独立的引导块，不能用fdisk设定为启动区。</p>
<h2 id="设备文件名"><a href="#设备文件名" class="headerlink" title="设备文件名"></a>设备文件名</h2><p>Linux中一切皆文件，包括硬件、用户等。硬件的文件名即称作“硬件设备文件名”，硬件设备文件名作为硬件的标准称呼，是由Linux自动检测并分配的。硬件设备文件在目录中处于根目录（“/”代表根目录，最高级目录）下的dev文件夹（专用于放硬件设备文件）下，即“/dev”文件夹下。</p>
<h4 id="分区的设备文件名分配规则"><a href="#分区的设备文件名分配规则" class="headerlink" title="分区的设备文件名分配规则"></a>分区的设备文件名分配规则</h4><p>hd代表IDE接口，sd代表SCSI接口或SATA接口；<br>a代表第一块硬盘，如有多块硬盘b代表第二块硬盘，c代表第三块硬盘，以此类推；<br>1代表一块硬盘上的第一个分区，2代表此硬盘的第二个分区，3代表此硬盘第三个分区，以此类推，其中1234编号只能代表主分区或扩展分区，逻辑分区的编号从5开始分配，最大分区编号16<br>/dev/sda1 第一块SATA接口硬盘的第一个分区</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG28.jpg" alt=""></p>
<h4 id="挂载点"><a href="#挂载点" class="headerlink" title="挂载点"></a>挂载点</h4><p>Windows中使用字母标识符来指定在这个分区上的文件和目录，而Linux中使用目录作为挂载点（盘符）<br>绝大多数目录都可以作为挂载点（部分必须和根目录放在同一个分区的目录除外，否则将导致系统不能启动）包括你手工创建的目录。</p>
<p>##Linux 分区</p>
<p>####必须分区：</p>
<p>根分区 /（挂载点根目录，根目录中要保存其他所有数据，根目录如果没有硬盘空间，根下的很多数据将没有地方存放）<br>swap分区（交换分区，可理解为虚拟内存， 当真实内存不足时，可将swap分区中的硬盘空间作为内存使用，如果内存小于等于4GB，推荐swap分配内存的两倍，若内存大于4GB，建议swap空间与内存相等，不需要挂载点，swap分区不是给用户看的，是系统直接调用的所以无挂载点）</p>
<p>注：启动分区/boot需不需要创建要看实际情况，<br>需要使用LVM时，由于/boot分区不支持lvmfs，所以要单独创建，这个目录是系统文件，一般不会动，但不要太小，如果升级内核可能就满了。<br>个人使用没有必要</p>
<h4 id="使用-“fdisk”命令进行硬盘分区"><a href="#使用-“fdisk”命令进行硬盘分区" class="headerlink" title="使用 “fdisk”命令进行硬盘分区"></a>使用 “fdisk”命令进行硬盘分区</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">fdisk /dev/sdb </div><div class="line">进入sdb硬盘分区模式</div><div class="line">输入m，查看命令帮助信息</div><div class="line"></div><div class="line">新建分区</div><div class="line">输入n，给硬盘添加一个新的分区</div><div class="line">输入p，主分区</div><div class="line">输入e，扩展分区，扩展分区不能直接使用，需要添加逻辑分区</div><div class="line">输入l，扩展分区只能有一个，不能再分扩展分区了，所以显示的是逻辑分区，5代表分区的编号从5开始</div><div class="line">给分区指定编号，1-4是预留给主分区或者扩展分区的</div><div class="line">Partition number( 1-4,defautl 1):</div><div class="line">给这个分区指定扇区发起始和终止位置</div><div class="line">扇区的起始位置： First sector (2048 - 16777215，default 2048):不输入默认2048</div><div class="line">扇区的终止位置：Last sector,+sectors or +size&#123;K,M,G&#125;&#123;2048-16777215,default 16777215&#125;:3000M</div><div class="line">Command(m for help):输入p查看已经分好的区</div><div class="line">Command(m for help):输入n 继续添加分区</div><div class="line"></div><div class="line">删除分区： 输入d，随后输入删除的分区号</div><div class="line">逻辑分区是在拓展分区之内的，如果删除的拓展分区，随之而然的逻辑分区也被删除</div><div class="line"></div><div class="line">写入分区：输入w，直接就是保存并生效了；</div></pre></td></tr></table></figure>
<p><br></p>
<p>参考：</p>
<ul>
<li><a href="https://shengbao.org/691.html" target="_blank" rel="external">https://shengbao.org/691.html</a></li>
<li><a href="http://blog.51cto.com/13323775/2053921" target="_blank" rel="external">http://blog.51cto.com/13323775/2053921</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;硬件设备都是由Linux系统自动识别的，必须对硬盘进行分区、格式化、挂载后才能使用&lt;/p&gt;
&lt;p&gt;分区的意义：&lt;a href=&quot;http://www.cnblogs.com/personnel/p/4584926.html&quot; target=&quot;_blank&quot; rel=&quot;ext
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 虚拟机网络配置详解(NAT、桥接、Hostonly)</title>
    <link href="http://yoursite.com/2018/05/04/Linux-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3-NAT%E3%80%81%E6%A1%A5%E6%8E%A5%E3%80%81Hostonly/"/>
    <id>http://yoursite.com/2018/05/04/Linux-虚拟机网络配置详解-NAT、桥接、Hostonly/</id>
    <published>2018-05-04T08:56:23.000Z</published>
    <updated>2018-05-04T12:24:16.820Z</updated>
    
    <content type="html"><![CDATA[<p>无论是vmware还是virtual box虚拟机软件，一般来说，虚拟机有三种网络模式:</p>
<ol>
<li>Bridged Adapter（桥接模式）</li>
<li>NAT（网络地址转换模式）</li>
<li>Host-only Adapter（主机模式）</li>
</ol>
<p>virtual box中还有lInternal</p>
<p>虚拟网卡在虚拟机安装好之后，会自动添加两张网卡(VMnet1和VMnet8)，VMnet1用Host-only网络连接，VMnet8用NAT方式的网络连接，原先的VMnet0用桥接网络连接。</p>
<p><img src="http://ow3dy62zt.bkt.clouddn.com/IMG23.png" alt=""></p>
<h2 id="桥接"><a href="#桥接" class="headerlink" title="桥接"></a>桥接</h2><p>桥接网络是指宿主物理网卡和虚拟网卡通过VMnet0虚拟交换机进行桥接，物理网卡和虚拟网卡在拓扑图上处于<strong>同等地位</strong>，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机，所以两个网卡的IP地址也要设置为同一网段。会占用内网IP</p>
<p>vmnet0实际上就是一个虚拟的网桥(2层交换机)，这个网桥有若干个接口，一个端口用于连接你的Host主机，其余端口可以用于连接虚拟机，他们的位置是对等的，谁也不是谁的网关。<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG24.png" alt=""></p>
<p>主机A上的两个虚拟机1和虚拟机2，和主机A、B同处于一个网段，能够相互通信<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG25.png" alt=""></p>
<p>虚拟机网卡配置，虚拟机上网需要IP/子网掩码/DNS/网关</p>
<pre><code>DEVICE=&quot;eth0&quot;
BOOTPROTO=“static&quot; #设置静态ip,动态为dhcp
IPADDR=&quot;192.168.1.3&quot;
GATEWAY=&quot;192.168.1.1&quot;
HWADDR=&quot;08:00:27:C7:1B:22&quot;
DNS1=&quot;8.8.8.8&quot;
NETMASK=&quot;255.255.255.0&quot;
ONBOOT=&quot;yes&quot;
</code></pre><p>CentOS 7中ONBOOT默认为NO，需要打开</p>
<h4 id="应用场景："><a href="#应用场景：" class="headerlink" title="应用场景："></a>应用场景：</h4><p>虚拟机要求可以上网，且虚拟机完全模拟一台实体机</p>
<p><br></p>
<h2 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h2><p>NAT模式中，就是让虚拟机借助NAT(网络地址转换)功能，通过宿主机器所在的网络来访问公网。宿主能够联网，虚拟机也能联网(其他主机)。宿主没有联网，虚拟机也不能联网</p>
<p>vmnet1也是一个虚拟的交换机，交换机的一个 端口连接到你的Host上，另外一个端口连接到虚拟的DHCP服务器上（实际上是vmware的一个组件），另外剩下的端口就是连虚拟机了，主机A和虚拟机1和2能相互通信，虚拟机1和2能访问主机B和外网，主机B不能访问虚拟机1和2，虚拟机1和2能相互通信<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG27.png" alt=""></p>
<p>虚拟机的配置:</p>
<pre><code>DEVICE=&quot;eth0&quot;
BOOTPROTO=“static&quot; #设置静态ip,动态为dhcp
IPADDR=&quot;10.0.2.5&quot;
GATEWAY=&quot;10.0.2.1&quot;
HWADDR=&quot;08:00:27:C7:1B:22&quot;
DNS1=&quot;10.0.2.1&quot;
NETMASK=&quot;255.255.255.0&quot;
ONBOOT=&quot;yes&quot;
</code></pre><h4 id="应用场景：-1"><a href="#应用场景：-1" class="headerlink" title="应用场景："></a>应用场景：</h4><p>虚拟机只要求可以上网，无其它特殊要求，满足最一般需求</p>
<p><br></p>
<h2 id="Host-Only"><a href="#Host-Only" class="headerlink" title="Host-Only"></a>Host-Only</h2><p><strong>所有的虚拟系统是可以相互通信的，但虚拟系统和真实的网络是被隔离开的</strong></p>
<p>虚拟系统和宿主机器系统是可以相互通信的。<br>虚拟系统的TCP/IP配置信息(如IP地址、网关地址、DNS服务器等)，都是由VMnet1(host-only)虚拟网络的DHCP服务器来动态分配的。</p>
<p>主机和虚拟机之间的通信是通过 VMnet1虚拟网卡来实现的。虚拟机连接到VMnet1上，系统并不为其提供任何路由服务，因此虚拟机只能和宿主机进行通信，而不能连接到真正的网络上。</p>
<p>Host-Only的宗旨就是建立一个与外界隔绝的内部网络，来提高内网的安全性。这个功能或许对普通用户来说没有多大意义，但大型服务商会常常利用这个功能。如果你想为VMnet1网段提供路由功能，那就需要使用RRAS，而不能使用XP或2000的ICS，因为ICS会把内网的IP地址改为192.168.0.1，但虚拟机是不会给VMnet1虚拟网卡分配这个地址的，那么主机和虚拟机之间就不能通信了。</p>
<p>虚拟机1和2之间可以相互通信，主机A能和虚拟机1和2通信，虚拟机1和2不能和主机通信(需要设置)，虚拟机不能和B主机以及外网通信<br><img src="http://ow3dy62zt.bkt.clouddn.com/IMG26.png" alt=""></p>
<h4 id="使用范围"><a href="#使用范围" class="headerlink" title="使用范围"></a>使用范围</h4><p>如果你想利用VMWare创建一个与网内其他机器相隔离的虚拟系统，进行某些特殊的网络调试工作，可以选择host-only模式。</p>
<p><br></p>
<h2 id="内网模式"><a href="#内网模式" class="headerlink" title="内网模式"></a>内网模式</h2><p>内网模式，顾名思义就是内部网络模式：虚拟机与外网完全断开，只实现虚拟机于虚拟机之间的内部网络模式。</p>
<p>虚拟机与主机的关系：不能相互访问，彼此不属于同一个网络，无法相互访问。<br>虚拟机与网络中其他主机的关系：不能相互访问，理由同上。<br>虚拟机与虚拟机的关系：可以相互访问，前提是在设置网络时，两台虚拟机设置同一网络名称。如上配置图中，名称为intnet。</p>
<p>参考：</p>
<ul>
<li><a href="http://www.cnblogs.com/ggjucheng/archive/2012/08/19/2646007.html" target="_blank" rel="external">http://www.cnblogs.com/ggjucheng/archive/2012/08/19/2646007.html</a></li>
<li><a href="https://www.jianshu.com/p/305f7384cfe9" target="_blank" rel="external">https://www.jianshu.com/p/305f7384cfe9</a></li>
<li><a href="https://blog.csdn.net/bytxl/article/details/35569217" target="_blank" rel="external">https://blog.csdn.net/bytxl/article/details/35569217</a></li>
<li><a href="https://blog.csdn.net/clevercode/article/details/45934233" target="_blank" rel="external">https://blog.csdn.net/clevercode/article/details/45934233</a></li>
<li><a href="http://blog.51cto.com/wangchunhai/381225" target="_blank" rel="external">http://blog.51cto.com/wangchunhai/381225</a></li>
<li><a href="https://github.com/waltcow/blog/issues/21" target="_blank" rel="external">https://github.com/waltcow/blog/issues/21</a></li>
<li><a href="https://blog.csdn.net/guizaijianchic/article/details/72190394" target="_blank" rel="external">https://blog.csdn.net/guizaijianchic/article/details/72190394</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;无论是vmware还是virtual box虚拟机软件，一般来说，虚拟机有三种网络模式:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Bridged Adapter（桥接模式）&lt;/li&gt;
&lt;li&gt;NAT（网络地址转换模式）&lt;/li&gt;
&lt;li&gt;Host-only Adapter（主机模式）&lt;/
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 安装ssh</title>
    <link href="http://yoursite.com/2018/05/02/Linux-%E5%AE%89%E8%A3%85ssh/"/>
    <id>http://yoursite.com/2018/05/02/Linux-安装ssh/</id>
    <published>2018-05-02T10:46:32.000Z</published>
    <updated>2018-05-06T06:02:41.235Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简易版"><a href="#简易版" class="headerlink" title="简易版"></a>简易版</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">#查看ssh服务是否开启</div><div class="line">ps -e |grep ssh</div><div class="line"></div><div class="line">#安装ssh服务</div><div class="line">sudo apt install openssh-server</div><div class="line"></div><div class="line">#配置ssh</div><div class="line">sudo vi /etc/ssh/sshd_config</div><div class="line">#PermitRootLogin，RSAAuthentication，PubkeyAuthentication的设置打开</div><div class="line"></div><div class="line">#开启ssh服务</div><div class="line">sudo systemctl restart sshd.service</div><div class="line">#开机启动SSH服务</div><div class="line">sudo systemctl enable sshd.service</div><div class="line"></div><div class="line">#连接</div><div class="line">ssh -p 22 userName@192.168.1.100</div></pre></td></tr></table></figure>
<h2 id="复杂版"><a href="#复杂版" class="headerlink" title="复杂版"></a>复杂版</h2><p>参考<a href="https://wiki.centos.org/HowTos/Network/SecuringSSH" target="_blank" rel="external">https://wiki.centos.org/HowTos/Network/SecuringSSH</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --reload</div><div class="line">#重新载入防火墙设定</div></pre></td></tr></table></figure></p>
<h2 id="设置SSH免密码登录"><a href="#设置SSH免密码登录" class="headerlink" title="设置SSH免密码登录"></a>设置SSH免密码登录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa</div><div class="line"># ～/.ssh目录中创建两个名为id_rsa和id_rsa.pub的文件，id_rsa是私钥，id_rsa.pub是公钥</div><div class="line"></div><div class="line">#设置权限</div><div class="line">chmod 700〜/ .ssh</div><div class="line">chmod 600〜/ .ssh / id_rsa </div><div class="line"></div><div class="line"># 复制公钥到服务器然后写入到~/.ssh/authorized_keys 方法一</div><div class="line"># 使用SSH远程登陆到服务器,发现家目录中还没有.ssh目录,使用mkdir创建</div><div class="line">mkdir .ssh</div><div class="line"># 发送公钥</div><div class="line">scp -P 端口号 ./id_rsa.pub alice@192.168.0.10:/home/alice/.ssh</div><div class="line"># 将公钥追加写入~/.ssh/authorized_keys中,若authorized_keys不存在,则会创建并写入</div><div class="line">cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</div><div class="line">#修改authorized_keys的权限为600,并删除公钥文件</div><div class="line">rm id_rsa.pub</div><div class="line"></div><div class="line"># 复制公钥到服务器然后写入到~/.ssh/authorized_keys 方法二</div><div class="line"># ssh-copy-id 命令可以把本地主机的公钥复制到远程主机的 authorized_keys 文件上</div><div class="line">ssh-copy-id -i ~/.ssh/id_rsa.pub user@server</div><div class="line">chmod 700 ~/.ssh </div><div class="line">chmod 600 ~/.ssh/authorized_keys</div></pre></td></tr></table></figure>
<h2 id="清除SSH的私钥密码"><a href="#清除SSH的私钥密码" class="headerlink" title="清除SSH的私钥密码"></a>清除SSH的私钥密码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -p</div><div class="line"># 选择需要修改的私钥，默认是/home/username/.ssh/id_rsa。</div><div class="line"># 选好文件后按回车，会提示你输入旧密码。</div><div class="line">#输入好后会提示输入新密码。</div><div class="line">#直接回车，提示确认新密码再直接回车，此时指定的私钥的密码就被清除了</div></pre></td></tr></table></figure>
<p>SSH相关命令参考 <a href="http://fengrenxiaoli.github.io/2018/05/01/Linux%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/" target="_blank" rel="external">Linux网络管理 远程登录</a></p>
<p>参考：</p>
<ul>
<li><a href="https://wiki.centos.org/HowTos/Network/SecuringSSH" target="_blank" rel="external">https://wiki.centos.org/HowTos/Network/SecuringSSH</a></li>
<li><a href="http://www.iosugar.com/2017/02/14/CentOS-remote-login-SSH-configuration/#SSH%E7%99%BB%E9%99%86" target="_blank" rel="external">http://www.iosugar.com/2017/02/14/CentOS-remote-login-SSH-configuration/#SSH%E7%99%BB%E9%99%86</a></li>
<li><a href="http://einverne.github.io/post/2016/06/ssh-copy-id.html" target="_blank" rel="external">http://einverne.github.io/post/2016/06/ssh-copy-id.html</a></li>
<li><a href="https://www.ssh.com/ssh/copy-id" target="_blank" rel="external">https://www.ssh.com/ssh/copy-id</a></li>
<li><a href="https://linux.cn/article-6901-1.html" target="_blank" rel="external">https://linux.cn/article-6901-1.html</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简易版&quot;&gt;&lt;a href=&quot;#简易版&quot; class=&quot;headerlink&quot; title=&quot;简易版&quot;&gt;&lt;/a&gt;简易版&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;d
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
</feed>
